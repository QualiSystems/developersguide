<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">
        <link rel="search" type="application/opensearchdescription+xml" title="CloudShell DevGuide" href="/opensearch.xml" />
        <title>CloudShell Developer Guide : Automating CloudShell Sandboxes for DevOps</title>
        <meta name="description" content="">
        <link rel="shortcut icon" type="image/png" href="/favicon.png?">
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/main.css">
        <link rel="stylesheet" href="/css/prism.css">
        <link rel="stylesheet" href="/css/QualiStyle.css">
        <link rel="stylesheet" href="/css/samples.css">
        <link rel="stylesheet" href="/css/normalize.css">
        <link rel="stylesheet" href="/css/test-hot-block.webflow.css">


        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
        <script src="/js/jquery-3.1.0.min.js"></script>
        <script src="/js/modernizr.js"></script>
        <script src="/js/webflow.js"></script>
        <script src="/js/version-redirect.js"></script>

        
    </head>
    <body>
        <div id="header">
            <div class="container">
                <div class="row">
    <div class="col-md-3 col-sm-4">
        <a class="brand" href="/">
            <img alt="CloudShell Logo" src="/assets/logo.png" />
            CloudShell <small>Developer Guide</small>
        </a>
    </div>
    <div class="col-md-9 col-sm-8">
        
		  
        <form class="search" action="/search/8.2.0/search.html">
            <input class="input" id="search-query" type="text" name="q" placeholder="Search" />
            <input class="button" type="submit" value="Search"></input>
        </form>
    </div>
</div>

            </div>
        </div>
        <div class="container">
            <div class="row"> 
            	
                <!-- <div class="col-md-3"><span> Sveta </span></div> -->
                               
                
                
                    <div id="navigation" class="col-md-3 col-sm-4">
                        <span><strong>CloudShell Version: </strong></span>
                        <div id="versions">
                            <div class="form-group" onchange="versionChange(this)">
	<select class="form-control" id="version">
   
   	
		
	
		  
	  <option value="9.3.0">9.3.0</option>
	
	
		  
	  <option value="9.2.0">9.2.0</option>
	
	
		  
	  <option value="9.1.0">9.1.0</option>
	
	
		  
	  <option value="9.0.0">9.0.0</option>
	
	
		  
	  <option value="8.3.0">8.3.0</option>
	
	
		  
	  <option value="2020.1.0">2020.1.0</option>
	
	
	</select>
</div>
                        </div>
                        <ul class="nav nav-list" style="margin-top: -30px;">  
     
        
           <li class="nav-header"></li>
			  
           
           
        
           <li class="nav-header">Introduction</li>
			  
           
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_introduction/8.2.0/the-cloudshell-devguide.md" data-order="1"><a href="/introduction/8.2.0/the-cloudshell-devguide.html">The CloudShell DevGuide</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_introduction/8.2.0/setting-up-the-development-ide.md" data-order="2"><a href="/introduction/8.2.0/setting-up-the-development-ide.html">Setting up the Development Environment</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Extending cloudshell with shells</li>
			  
           
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/getting-started.md" data-order="1"><a href="/shells/8.2.0/getting-started.html">Getting Started</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/shell-driver-overview.md" data-order="2"><a href="/shells/8.2.0/shell-driver-overview.html">Shell Drivers Overview</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/the-shell-project.md" data-order="3"><a href="/shells/8.2.0/the-shell-project.html">The Shell Project Guide</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/modeling-the-shell.md" data-order="4"><a href="/shells/8.2.0/modeling-the-shell.html">Modeling Shells with TOSCA</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/generating-shell-data-model.md" data-order="5"><a href="/shells/8.2.0/generating-shell-data-model.html">Managing the Shell’s Data Model</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/getting-information-from-cloudshell.md" data-order="6"><a href="/shells/8.2.0/getting-information-from-cloudshell.html">Getting Information from CloudShell</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/customizing-driver-commands.md" data-order="7"><a href="/shells/8.2.0/customizing-driver-commands.html">Commands Visibility and Usability</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/driver-deep-dive.md" data-order="8"><a href="/shells/8.2.0/driver-deep-dive.html">Driver Deep Dive</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/implementing-discovery-for-inventory-shells.md" data-order="9"><a href="/shells/8.2.0/implementing-discovery-for-inventory-shells.html">Auto-discovery for Inventory Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/discovering-inventory-snmp.md" data-order="10"><a href="/shells/8.2.0/discovering-inventory-snmp.html">Discovering Inventory using SNMP</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/debugging-shell-commands.md" data-order="11"><a href="/shells/8.2.0/debugging-shell-commands.html">Debugging Shell Driver Commands</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/deploying-to-production.md" data-order="12"><a href="/shells/8.2.0/deploying-to-production.html">Deploying to Production</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/customizing-shells.md" data-order="13"><a href="/shells/8.2.0/customizing-shells.html">Customizing Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/common-driver-recipes.md" data-order="14"><a href="/shells/8.2.0/common-driver-recipes.html">Common Driver Recipes</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/tips-and-tricks.md" data-order="15"><a href="/shells/8.2.0/tips-and-tricks.html">Tips and Tricks</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/8.2.0/1st-gen-shells.md" data-order="16"><a href="/shells/8.2.0/1st-gen-shells.html">1st Gen Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Orchestration scripts</li>
			  
           
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/8.2.0/getting-started.md" data-order="1"><a href="/orchestration/8.2.0/getting-started.html">Getting Started</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/8.2.0/getting-information-from-cloudshell.md" data-order="2"><a href="/orchestration/8.2.0/getting-information-from-cloudshell.html">Getting Information from CloudShell</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/8.2.0/script-commands-customization.md" data-order="6"><a href="/orchestration/8.2.0/script-commands-customization.html">Script commands Visibility and Usability</a></li>
						
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/8.2.0/scripts-deep-dive.md" data-order="6"><a href="/orchestration/8.2.0/scripts-deep-dive.html">Scripts Deep Dive</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/8.2.0/common-orchestration-recipes.md" data-order="9"><a href="/orchestration/8.2.0/common-orchestration-recipes.html">Common Orchestration Script Recipes</a></li>
						
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/8.2.0/the-oob-orchestration.md" data-order="9"><a href="/orchestration/8.2.0/the-oob-orchestration.html">CloudShell's OOB Orchestration</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Configuration management</li>
			  
           
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/8.2.0/cf-overview.md" data-order="1"><a href="/configmanagement/8.2.0/cf-overview.html">Overview</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/8.2.0/cf-custom-scripts.md" data-order="2"><a href="/configmanagement/8.2.0/cf-custom-scripts.html">Custom Scripts</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/8.2.0/cf-add-custom-script-to-app.md" data-order="3"><a href="/configmanagement/8.2.0/cf-add-custom-script-to-app.html">Adding Your Script to an App</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/8.2.0/cf-custom-scripts-tips-and-tricks.md" data-order="4"><a href="/configmanagement/8.2.0/cf-custom-scripts-tips-and-tricks.html">Tips and Tricks for Custom Scripts</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/8.2.0/cf-ansible.md" data-order="5"><a href="/configmanagement/8.2.0/cf-ansible.html">Ansible</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/8.2.0/cf-ansible-examples.md" data-order="6"><a href="/configmanagement/8.2.0/cf-ansible-examples.html">Ansible Playbook Examples</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/8.2.0/cf-add-playbook-to-app.md" data-order="7"><a href="/configmanagement/8.2.0/cf-add-playbook-to-app.html">Adding the Playbook to an App</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/8.2.0/cf-ansible-tips-and-tricks.md" data-order="8"><a href="/configmanagement/8.2.0/cf-ansible-tips-and-tricks.html">Tips and Tricks for Ansible Playbooks</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Extending cloudshell with cloud providers</li>
			  
           
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/8.2.0/overview.md" data-order="1"><a href="/cloudproviders/8.2.0/overview.html">Custom Cloud Provider Overview</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Cloudshell apis</li>
			  
           
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_devops/8.2.0/available-apis.md" data-order="1"><a href="/devops/8.2.0/available-apis.html">Available CloudShell APIs</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_devops/8.2.0/devops-integration.md" data-order="2"><a href="/devops/8.2.0/devops-integration.html">Automating CloudShell Sandboxes for DevOps</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Reference</li>
			  
           
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					
           
               
			      
					               
               	
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/8.2.0/python-coding-standards.md" data-order="7"><a href="/reference/8.2.0/python-coding-standards.html">Python Coding Standards</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/8.2.0/shellfoundry-intro.md" data-order="8"><a href="/reference/8.2.0/shellfoundry-intro.html">Shellfoundry</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/8.2.0/quali-shell-framework.md" data-order="9"><a href="/reference/8.2.0/quali-shell-framework.html">Quali’s Shell Framework (Python 2)</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/8.2.0/migrating_1st_gen_shells.md" data-order="10"><a href="/reference/8.2.0/migrating_1st_gen_shells.html">Converting 1st Gen Shells into 2nd Gen Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/8.2.0/associating-service-categories.md" data-order="11"><a href="/reference/8.2.0/associating-service-categories.html">Associating Categories to 1st Gen Service Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/8.2.0/L1-switch-shell.md" data-order="13"><a href="/reference/8.2.0/L1-switch-shell.html">Creating an L1 Switch Shell</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/8.2.0/short-dev-videos.md" data-order="14"><a href="/reference/8.2.0/short-dev-videos.html">Short Development Videos</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/8.2.0/resource_scripts.md" data-order="15"><a href="/reference/8.2.0/resource_scripts.html">Using Resource Scripts</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/8.2.0/creating-static-vm.md" data-order="21"><a href="/reference/8.2.0/creating-static-vm.html">Creating a Shell that Loads a Static VM</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
</ul>

                    </div>

                    <div id="content" class="col-md-9 col-sm-8">
                        

<div class="page-header" data-page-id="_devops/8.2.0/devops-integration.md">
    <h2>Automating CloudShell Sandboxes for DevOps
        
        
          
        
    </h2>
</div>

<p>In this section, we’ll look at different recipes for creating and using CloudShell Sandboxes as a part of your CI/CD
or other DevOps pipelines. In this context, we’ll concentrate on the use case of automating CloudShell externally from scripts or other platforms.</p>

<h3 id="available-apis">Available APIs</h3>

<p>CloudShell currently supports two different sets of APIs which can be used to automate and integrate Sandboxes with DevOps.</p>

<ul>
  <li>The CloudShell Automation API (<em>cloudshell-automation-api</em> package) - This python package contains a comprehensive set of APIs for anything from managing inventory and connections to administrating users and groups as well as managing sandboxes and blueprints. The package allows developers to use the TestShell API in shell drivers and python scripts.</li>
  <li>The CloudShell Sandbox APIs - These RESTful APIs comprise CloudShell’s next generation set of APIs. They are already using the latest terminology (sandboxes and blueprints instead of reservations and topologies/environments) and have advantages in performance and scaling. As of today, these APIs are limited to a specific set of commands focused on the workflow of starting and ending sandboxes. However, with each release, more functionality is being added to the Sandbox APIs and the intention is for this API set to eventually replace the CloudShell Automation API package completely for most DevOps-related workflows.</li>
</ul>

<h4 id="which-api-to-choose">Which API to choose?</h4>
<p>If the functionality you’re looking for is covered by the Sandbox APIs, it is recommended to use it over the CloudShell Automation API package.
If not, you can consider using the Sandbox API for whatever subset of the required functionality it does offer and complement that with CloudShell Automation API calls.</p>

<h4 id="where-are-the-apis-documented">Where are the APIs documented?</h4>

<p><strong>Sandbox API</strong></p>

<p>The Sandbox API live documentation page is installed with CloudShell. To access it simply browse to the following default address:
http://[CloudShellPortalAddress]:82/api/v1/explore/. If you’re accessing the link from the CloudShell Portal machine itself, or from the CloudShell SDK edition machine, you can simply use “localhost” or “127.0.0.1”. The API documentation page allows you to test and experiment with the APIs as well as provide information on the different operations and parameters.</p>

<p><strong>Automation API</strong></p>

<p>The latest 8.2 Automation API online help is available <a href="http://help.quali.com/Online%20Help/8.2/Python-API/" target="_blank">here</a>.</p>

<p>When using the <em>cloudshell-automation-api</em> package, make sure to install the version of the API which is compatible with your CloudShell version. To make the task of finding the right version easier, this package follows a versioning schema different from other CloudShell packages. The <em>major</em> and <em>minor</em> version of the <em>cloudshell-automation-api</em> package will always match the CloudShell release its compatible with. Therefore, to install the latest compatible version you need to add these version requirements when installing from pip. For example, to install the latest <em>cloudshell-automation-api</em> compatible with CloudShell 8.1, run:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">python -m pip install &quot;cloudshell-automation-api&gt;=8.1,&lt;8.2&quot;</code></pre></figure>

<p>To install the latest <em>cloudshell-automation-api</em> compatible with CloudShell 8.0, run:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">python -m pip install &quot;cloudshell-automation-api&gt;=8.0,&lt;8.1&quot;</code></pre></figure>

<h3 id="starting-and-stopping-a-sandbox">Starting and stopping a sandbox</h3>

<p>The simplest and recommended way to start or stop a new sandbox instance from a blueprint is using the Sandbox API.
The Sandbox API live documentation page contains the details of the response and request format. The basic URLs of these operation is <em>/blueprints/{blueprint_identifier}/start</em> and <em>/sandboxes/{sandbox_id}/stop</em>.</p>

<h4 id="using-the-sandbox-api-from-python">Using the Sandbox API from python</h4>

<p>The following code sample demonstrates using the Sandbox APIs for a simple flow - creating a sandbox from a blueprint, ensuring setup completes successfully then after running some tests.</p>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/devguide_examples/blob/master/devops_integration/sandbox_api_python_2_and_3/sandbox_api_example.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    devops_integration/sandbox_api_python_2_and_3/sandbox_api_example.py <a href="https://github.com/QualiSystems/devguide_examples/blob/master/devops_integration/sandbox_api_python_2_and_3/sandbox_api_example.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/devguide_examples/master/devops_integration/sandbox_api_python_2_and_3/sandbox_api_example.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def main():
    &quot;&quot;&quot;
    Example workflow of starting a sandbox, waiting for it to setup, then stopping it
    :return:
    &quot;&quot;&quot;
    api_example = SandboxRESTAPI(&#39;localhost&#39;, &#39;8032&#39;)
    api_example.login(&quot;admin&quot;, &quot;admin&quot;, &quot;Global&quot;)
    sandbox_id = api_example.start_sandbox(&#39;Simple blueprint&#39;, datetime.timedelta(hours=2), &#39;test_sandbox&#39;)
    sandox_details = api_example.wait_for_sandbox_setup(sandbox_id)
    run_some_tests_or_other_code(sandox_details)
    api_example.stop_sandbox(sandbox_id)
    api_example.wait_for_sandbox_teardown(sandbox_id)</code></pre></figure>

<p>This code uses a simple wrapper around the Sandbox API which uses the <em>requests</em> package. You can find the source code for that implementation <a href="https://github.com/QualiSystems/devguide_examples/blob/master/devops_integration/sandbox_api_python_2_and_3/sandbox_api/sandbox_apis.py">here</a>:</p>

<p>Since sandboxes used this way are really a scope for testing. It can be beneficial to use python’s <em>with</em> statement to ensure a sandbox is always set up and torn down properly with every usage. The following code wraps the Sandbox API as a context, ensuring proper cleanup and providing convenient access to the sandbox details.</p>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/devguide_examples/blob/master/devops_integration/sandbox_api_python_2_and_3/sandbox_context_example.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    devops_integration/sandbox_api_python_2_and_3/sandbox_context_example.py <a href="https://github.com/QualiSystems/devguide_examples/blob/master/devops_integration/sandbox_api_python_2_and_3/sandbox_context_example.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/devguide_examples/master/devops_integration/sandbox_api_python_2_and_3/sandbox_context_example.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def main():
    &quot;&quot;&quot;
    Example of using sandbox as a context
    &quot;&quot;&quot;
    connectivity_params = QualiConnectivityParams(&#39;localhost&#39;, &#39;8032&#39;, &#39;admin&#39;, &#39;admin&#39;, &#39;Global&#39;)

    with SandboxContext(connectivity_params, &#39;Simple blueprint&#39;, datetime.timedelta(hours=2)) as sandbox:
        run_some_tests_or_other_code(sandbox)</code></pre></figure>

<p><strong>Both of the above examples are python 2/3 compatible.</strong></p>

<h4 id="using-the-automation-api-from-python">Using the Automation API from python</h4>

<p>The following code demonstrates implementing the same basic flow using the CloudShell Automation API package:</p>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/devguide_examples/blob/master/devops_integration/python_api/python_api_example.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    devops_integration/python_api/python_api_example.py <a href="https://github.com/QualiSystems/devguide_examples/blob/master/devops_integration/python_api/python_api_example.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/devguide_examples/master/devops_integration/python_api/python_api_example.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def main():
    &quot;&quot;&quot;
    Example workflow of starting a sandbox, waiting for it to setup, then stopping it
    :return:
    &quot;&quot;&quot;

    session = CloudShellAPISession(&#39;localhost&#39;, &quot;admin&quot;, &quot;admin&quot;, &quot;Global&quot;)
    # Create the sandbox
    sandbox = session.CreateImmediateTopologyReservation(&#39;test sandbox&#39;, owner=&#39;admin&#39;,
                                                         durationInMinutes=120,
                                                         topologyFullPath=&#39;Simple Blueprint1&#39;,
                                                         globalInputs=[UpdateTopologyGlobalInputsRequest(&#39;Target Cloud&#39;, &#39;AWS&#39;)]).Reservation

    sandbox_details = SandboxHelpers().wait_for_sandbox_setup(sandbox.Id, session,10)
    run_some_tests_or_other_code(session, sandbox_details)
    session.EndReservation(sandbox.Id)</code></pre></figure>

<p>Similar to the Sandbox API example, we can wrap the setup and teardown of the sandbox in a context object and take advantage of the python <em>with</em> operator to simplify the flow.</p>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/devguide_examples/blob/master/devops_integration/python_api/python_api_context_example.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    devops_integration/python_api/python_api_context_example.py <a href="https://github.com/QualiSystems/devguide_examples/blob/master/devops_integration/python_api/python_api_context_example.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/devguide_examples/master/devops_integration/python_api/python_api_context_example.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def main():
    &quot;&quot;&quot;
    Example workflow of starting a sandbox, waiting for it to setup, then stopping it
    :return:
    &quot;&quot;&quot;
    connectivity_params = QualiConnectivityParams(api_service_host=&#39;localhost&#39;, domain=&#39;Global&#39;,
                                                  password=&#39;admin&#39;, username=&#39;admin&#39;)
    inputs = BlueprintInputs(global_inputs=[UpdateTopologyGlobalInputsRequest(&#39;Target Cloud&#39;, &#39;AWS&#39;)])

    with SandboxContext(connectivity_params=connectivity_params,
                        blueprint_name=&#39;Simple Blueprint1&#39;, duration=120,
                        blueprint_inputs=inputs) as sandbox:
        run_some_tests_or_other_code(sandbox)</code></pre></figure>

<h3 id="sandbox-api-missing-and-upcoming-features">Sandbox API Missing and Upcoming Features</h3>

<p>Currently, the Sandbox API does not support the creation of future (pending) sandboxes. If your CloudShell environment does require this feature, you may need to fall back to the <em>cloudshell-automation-api</em> package API for sandbox reservation (using the <code>CreateReservation</code> method).</p>

<h3 id="executing-orchestration-commands">Executing Orchestration Commands</h3>

<p>Executing orchestration commands from the Sandbox API is supported using the <em>/sandboxes/{sandbox_identifier}/commands/{command_name}/start</em> method.
In addition, the CloudShell Automation API package provides the necessary APIs to execute orchestration scripts in the sandbox:</p>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/devguide_examples/blob/master/devops_integration/python_api/python_api_example.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    devops_integration/python_api/python_api_example.py <a href="https://github.com/QualiSystems/devguide_examples/blob/master/devops_integration/python_api/python_api_example.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/devguide_examples/master/devops_integration/python_api/python_api_example.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def run_some_tests_or_other_code(session, sandox_details):
    session.ExecuteEnvironmentCommand(reservationId=sandox_details.Id, commandName=&#39;Update Version&#39;,
                                      commandInputs=InputNameValue(Name=&#39;Version&#39;, Value=&#39;1.1&#39;))
    pp = pprint.PrettyPrinter(indent=4)
    pp.pprint(jsonpickle.dumps(sandox_details))

    time.sleep(10)</code></pre></figure>

<h3 id="integrating-with-ci-tools">Integrating with CI tools</h3>

<p>The same basic workflow demonstrated in the above examples can be used to implement a plugin for CI frameworks
such as Jenkins, Travis or TeamCity.</p>

<p>Several Quali community projects already provide readymade solutions for some CI tools.</p>

<p>The <a href="https://github.com/jenkinsci/cloudshell-sandbox-plugin">Sandbox-Jenkins-Plugin</a> provides build steps for creating and ending sandboxes for Jenkins, as well as integration with the new PipeLines feature for continuous delivery and DevOps automation.</p>

<p>The <a href="https://github.com/QualiSystems/Sandbox-TeamCIty-Plugin">Sandbox-Teamcity-Plugin</a> provides similar build steps and integration for TeamCity.</p>








    <div id="post-nav" class="clearfix">
        
            <a class="prev" href="/devops/8.2.0/available-apis.html">&laquo; Available CloudShell APIs</a>
        
        
    </div>




<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        var disqus_identifier = '_devops/8.2.0/devops-integration.md';
        var disqus_url = 'https://devguide.quali.com/devops/8.2.0/devops-integration.html';
        this.page.url = "https://devguide.quali.com/devops/8.2.0/devops-integration.html";  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = disqus_identifier; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//qualidev.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>






<ul >
    
</ul>


<script src="/js/search.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">
  $(function() {
    $('#search-query').lunrSearch({
      indexUrl  : '/js/index.json',           // url for the .json file containing search index data
      results   : '#search-results',          // selector for containing search results element
      template  : '#search-results-template', // selector for Mustache.js template
      titleMsg  : '',   // message attached in front of results (can be empty)
      emptyMsg  : '<p>Nothing found.</p>'     // shown message if search returns no results
    });
  });
</script>

<script>
$(function() {
    page = $(".page-header").attr("data-page-id")
    nav_item = $(".nav li[data-page-id='"+page+"']")
    if (nav_item) {
        $(".nav").find(".active").removeClass("active");
        nav_item.addClass("active");
    }
})
</script>

                    </div>
                
            </div>

            

            <div class="row">
                <div id="footer" class="col-sm-12">
                    
<div class="qs-control-container scroll-enable">
	<a href="https://github.com/QualiSystems/devguide_source/issues/new?title=New%20suggestion%20for%20/devops/8.2.0/devops-integration.html" target="_blank" class="qs-btn-round qs-btn-mail" title="Send feedback">
	</a>

	<button class="qs-btn-round qs-btn-scroll-top tooltip tooltipstered">
	</button>
</div>


Documentation for <a href="http://www.quali.com">CloudShell Developer Guide</a>

                </div>
            </div>
        </div>

        <script src="/js/prism.js"></script>
        
        <script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-81468206-1', 'auto');
 ga('send', 'pageview');

</script>

        
    </body>

</html>
