<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">
        <link rel="search" type="application/opensearchdescription+xml" title="CloudShell DevGuide" href="/opensearch.xml" />
        <title>CloudShell Developer Guide : Converting 1st Gen Shells into 2nd Gen</title>
        <meta name="description" content="">
        <link rel="shortcut icon" type="image/png" href="/favicon.png?">
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/main.css">
        <link rel="stylesheet" href="/css/prism.css">
        <link rel="stylesheet" href="/css/QualiStyle.css">
        <link rel="stylesheet" href="/css/samples.css">
        <link rel="stylesheet" href="/css/normalize.css">
        <link rel="stylesheet" href="/css/test-hot-block.webflow.css">


        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
        <script src="/js/jquery-3.1.0.min.js"></script>
        <script src="/js/modernizr.js"></script>
        <script src="/js/webflow.js"></script>
        <script src="/js/version-redirect.js"></script>

        
    </head>
    <body>
        <div id="header">
            <div class="container">
                <div class="row">
    <div class="col-md-3 col-sm-4">
        <a class="brand" href="/">
            <img alt="CloudShell Logo" src="/assets/logo.png" />
            CloudShell <small>Developer Guide</small>
        </a>
    </div>
    <div class="col-md-9 col-sm-8">
        
		  
        <form class="search" action="/search/9.0.0/search.html">
            <input class="input" id="search-query" type="text" name="q" placeholder="Search" />
            <input class="button" type="submit" value="Search"></input>
        </form>
    </div>
</div>

            </div>
        </div>
        <div class="container">
            <div class="row"> 
            	
                <!-- <div class="col-md-3"><span> Sveta </span></div> -->
                               
                
                
                    <div id="navigation" class="col-md-3 col-sm-4">
                        <span><strong>CloudShell Version: </strong></span>
                        <div id="versions">
                            <div class="form-group" onchange="versionChange(this)">
	<select class="form-control" id="version">
   
   	
		
	
		  
	  <option value="9.3.0">9.3.0</option>
	
	
		  
	  <option value="9.2.0">9.2.0</option>
	
	
		  
	  <option value="9.1.0">9.1.0</option>
	
	
	
	  <option value="9.0.0" selected>9.0.0</option>
	
	
		  
	  <option value="8.3.0">8.3.0</option>
	
	
		  
	  <option value="2020.1.0">2020.1.0</option>
	
	
	</select>
</div>
                        </div>
                        <ul class="nav nav-list" style="margin-top: -30px;">  
     
        
           <li class="nav-header"></li>
			  
           
           
        
           <li class="nav-header">Introduction</li>
			  
           
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_introduction/9.0.0/the-cloudshell-devguide.md" data-order="1"><a href="/introduction/9.0.0/the-cloudshell-devguide.html">The CloudShell DevGuide</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_introduction/9.0.0/setting-up-the-development-ide.md" data-order="2"><a href="/introduction/9.0.0/setting-up-the-development-ide.html">Setting up the Development Environment</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Extending cloudshell with shells</li>
			  
           
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/getting-started.md" data-order="1"><a href="/shells/9.0.0/getting-started.html">Getting Started</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/shell-driver-overview.md" data-order="2"><a href="/shells/9.0.0/shell-driver-overview.html">Shell Drivers Overview</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/the-shell-project.md" data-order="3"><a href="/shells/9.0.0/the-shell-project.html">The Shell Project Guide</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/modeling-the-shell.md" data-order="4"><a href="/shells/9.0.0/modeling-the-shell.html">Modeling Shells with TOSCA</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/generating-shell-data-model.md" data-order="5"><a href="/shells/9.0.0/generating-shell-data-model.html">Managing the Shell’s Data Model</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/getting-information-from-cloudshell.md" data-order="6"><a href="/shells/9.0.0/getting-information-from-cloudshell.html">Getting Information from CloudShell</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/customizing-driver-commands.md" data-order="7"><a href="/shells/9.0.0/customizing-driver-commands.html">Commands Visibility and Usability</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/driver-deep-dive.md" data-order="8"><a href="/shells/9.0.0/driver-deep-dive.html">Driver Deep Dive</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/implementing-discovery-for-inventory-shells.md" data-order="9"><a href="/shells/9.0.0/implementing-discovery-for-inventory-shells.html">Auto-discovery for Inventory Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/discovering-inventory-snmp.md" data-order="10"><a href="/shells/9.0.0/discovering-inventory-snmp.html">Discovering Inventory using SNMP</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/debugging-shell-commands.md" data-order="11"><a href="/shells/9.0.0/debugging-shell-commands.html">Debugging Shell Driver Commands</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/deploying-to-production.md" data-order="12"><a href="/shells/9.0.0/deploying-to-production.html">Deploying to Production</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/customizing-shells.md" data-order="13"><a href="/shells/9.0.0/customizing-shells.html">Customizing Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/common-driver-recipes.md" data-order="14"><a href="/shells/9.0.0/common-driver-recipes.html">Common Driver Recipes</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/tips-and-tricks.md" data-order="15"><a href="/shells/9.0.0/tips-and-tricks.html">Tips and Tricks</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/sharing-shells-with-community.md" data-order="16"><a href="/shells/9.0.0/sharing-shells-with-community.html">Sharing a Shell with the Community</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/9.0.0/1st-gen-shells.md" data-order="17"><a href="/shells/9.0.0/1st-gen-shells.html">1st Gen Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Orchestration scripts</li>
			  
           
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/9.0.0/getting-started.md" data-order="1"><a href="/orchestration/9.0.0/getting-started.html">Getting Started</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/9.0.0/getting-information-from-cloudshell.md" data-order="2"><a href="/orchestration/9.0.0/getting-information-from-cloudshell.html">Getting Information from CloudShell</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/9.0.0/script-commands-customization.md" data-order="6"><a href="/orchestration/9.0.0/script-commands-customization.html">Script commands Visibility and Usability</a></li>
						
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/9.0.0/scripts-deep-dive.md" data-order="6"><a href="/orchestration/9.0.0/scripts-deep-dive.html">Scripts Deep Dive</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/9.0.0/common-orchestration-recipes.md" data-order="9"><a href="/orchestration/9.0.0/common-orchestration-recipes.html">Common Orchestration Script Recipes</a></li>
						
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/9.0.0/the-oob-orchestration.md" data-order="9"><a href="/orchestration/9.0.0/the-oob-orchestration.html">CloudShell's OOB Orchestration</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Configuration management</li>
			  
           
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/9.0.0/cf-overview.md" data-order="1"><a href="/configmanagement/9.0.0/cf-overview.html">Overview</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/9.0.0/cf-custom-scripts.md" data-order="2"><a href="/configmanagement/9.0.0/cf-custom-scripts.html">Custom Scripts</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/9.0.0/cf-add-custom-script-to-app.md" data-order="3"><a href="/configmanagement/9.0.0/cf-add-custom-script-to-app.html">Adding Your Script to an App</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/9.0.0/cf-custom-scripts-tips-and-tricks.md" data-order="4"><a href="/configmanagement/9.0.0/cf-custom-scripts-tips-and-tricks.html">Tips and Tricks for Custom Scripts</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/9.0.0/cf-ansible.md" data-order="5"><a href="/configmanagement/9.0.0/cf-ansible.html">Ansible</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/9.0.0/cf-ansible-examples.md" data-order="6"><a href="/configmanagement/9.0.0/cf-ansible-examples.html">Ansible Playbook Examples</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/9.0.0/cf-add-playbook-to-app.md" data-order="7"><a href="/configmanagement/9.0.0/cf-add-playbook-to-app.html">Adding the Playbook to an App</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/9.0.0/cf-ansible-tips-and-tricks.md" data-order="8"><a href="/configmanagement/9.0.0/cf-ansible-tips-and-tricks.html">Tips and Tricks for Ansible Playbooks</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Extending cloudshell with cloud providers</li>
			  
           
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/9.0.0/getting-started-with-cloud-providers.md" data-order="1"><a href="/cloudproviders/9.0.0/getting-started-with-cloud-providers.html">Getting Started with Cloud Providers</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/9.0.0/creating-cloud-provider-shell.md" data-order="3"><a href="/cloudproviders/9.0.0/creating-cloud-provider-shell.html">Creating the Cloud Provider Shell</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/9.0.0/the-cloud-provider-model.md" data-order="5"><a href="/cloudproviders/9.0.0/the-cloud-provider-model.html">The Cloud Provider Model</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/9.0.0/extending-cloud-provider-shell-data-model.md" data-order="7"><a href="/cloudproviders/9.0.0/extending-cloud-provider-shell-data-model.html">Extending the Shell's Data Model</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/9.0.0/removing-the-address-field.md" data-order="8"><a href="/cloudproviders/9.0.0/removing-the-address-field.html">Removing the Address Field</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/9.0.0/configuring-deployment-paths.md" data-order="9"><a href="/cloudproviders/9.0.0/configuring-deployment-paths.html">Configuring Deployment Paths</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/9.0.0/controlling-app-deployment-orchestration.md" data-order="11"><a href="/cloudproviders/9.0.0/controlling-app-deployment-orchestration.html">Controlling App Deployment Orchestration</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/9.0.0/the-cloud-provider-interface.md" data-order="13"><a href="/cloudproviders/9.0.0/the-cloud-provider-interface.html">The Cloud Provider Interface</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/9.0.0/resource-discovery.md" data-order="15"><a href="/cloudproviders/9.0.0/resource-discovery.html">Resource Discovery</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/9.0.0/app-deployment.md" data-order="17"><a href="/cloudproviders/9.0.0/app-deployment.html">App Deployment</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/9.0.0/power-off-and-delete.md" data-order="19"><a href="/cloudproviders/9.0.0/power-off-and-delete.html">Power off and Delete VM</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/9.0.0/L2-networking-management.md" data-order="21"><a href="/cloudproviders/9.0.0/L2-networking-management.html">L2 Network Connectivity</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/9.0.0/L3-networking-management.md" data-order="23"><a href="/cloudproviders/9.0.0/L3-networking-management.html">L3 Network Connectivity</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Cloudshell apis</li>
			  
           
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_devops/9.0.0/available-apis.md" data-order="1"><a href="/devops/9.0.0/available-apis.html">Available CloudShell APIs</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_devops/9.0.0/devops-integration.md" data-order="2"><a href="/devops/9.0.0/devops-integration.html">Automating CloudShell Sandboxes for DevOps</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Reference</li>
			  
           
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					
           
               
			      
					               
               	
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/9.0.0/python-coding-standards.md" data-order="7"><a href="/reference/9.0.0/python-coding-standards.html">Python Coding Standards</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/9.0.0/shellfoundry-intro.md" data-order="8"><a href="/reference/9.0.0/shellfoundry-intro.html">Shellfoundry</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/9.0.0/quali-shell-framework.md" data-order="9"><a href="/reference/9.0.0/quali-shell-framework.html">Quali’s Shell Framework (Python 2)</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/9.0.0/migrating_1st_gen_shells.md" data-order="10"><a href="/reference/9.0.0/migrating_1st_gen_shells.html">Converting 1st Gen Shells into 2nd Gen</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/9.0.0/associating-service-categories.md" data-order="11"><a href="/reference/9.0.0/associating-service-categories.html">Categories in 1st Gen Service Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/9.0.0/mapping-sub-resource-connections.md" data-order="12"><a href="/reference/9.0.0/mapping-sub-resource-connections.html">Mapping Connections using App Sub-resources</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/9.0.0/L1-switch-shell.md" data-order="13"><a href="/reference/9.0.0/L1-switch-shell.html">L1 Switch Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/9.0.0/short-dev-videos.md" data-order="14"><a href="/reference/9.0.0/short-dev-videos.html">Short Development Videos</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/9.0.0/resource-scripts.md" data-order="15"><a href="/reference/9.0.0/resource-scripts.html">Resource Scripts</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/9.0.0/creating-static-vm.md" data-order="21"><a href="/reference/9.0.0/creating-static-vm.html">Shells that Load a Static VM</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/9.0.0/intellisense-with-docstrings.md" data-order="23"><a href="/reference/9.0.0/intellisense-with-docstrings.html">Intellisense in Shells and Scripts (using Docstrings)</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
</ul>

                    </div>

                    <div id="content" class="col-md-9 col-sm-8">
                        

<div class="page-header" data-page-id="_reference/9.0.0/migrating_1st_gen_shells.md">
    <h2>Converting 1st Gen Shells into 2nd Gen
        
        
          
        
    </h2>
</div>


<p>As of version 8.0, CloudShell supports 2nd Generation Shells. In this topic we’ll go through the steps needed to convert a 1st Generation Shell into a 2nd Generation Shell.</p>

<h3 id="overview">Overview</h3>
<p>CloudShell Shells can be thought of as either 1st Generation Shells (1st Gen) or 2nd Generation Shells (2nd Gen). Both types of Shells can coexist inside the same CloudShell sandbox, but they differ in their structure and in the way that they are managed.</p>

<ul>
  <li>
    <p><strong>1st Gen Shells</strong> are imported as CloudShell packages that contain the data model and driver for the intended sandbox element. 1st Gen Shells allow extensive control of the family and model, and therefore are not standardized. While they allow maximal flexibility, when using them, some Shell management capabilities may not be available.</p>
  </li>
  <li>
    <p><strong>2nd Gen Shells</strong> are imported through CloudShell Portal’s <strong>Shells</strong> management page. 2nd Gen Shells are based on standardized models and attributes, which streamlines the creation, maintenance and sharing of Shells.</p>
  </li>
</ul>

<h3 id="prerequisites">Prerequisites</h3>
<p>Before we start, it is important to understand the requirements:</p>

<ul>
  <li>To convert a 1st Gen Shell you need access to the Shell’s source code.</li>
  <li>You can only convert a Shell that implements the latest standard version.</li>
</ul>

<p>It is highly recommended to first learn how to create and model a 2nd Gen Shell before trying to convert from 1st Gen. This is described in detail in previous chapters of this guide.</p>

<p><strong>To convert a 1st Gen Shell to a 2nd Gen Shell:</strong></p>

<ol>
  <li>Create a 1st Gen Shell</li>
  <li>Create a 2nd Generation Shell</li>
  <li>Edit the Shell’s data model</li>
  <li>Convert the Driver</li>
  <li>Test the conversion</li>
</ol>

<h3 id="create-a-1st-gen-shell">Create a 1st Gen Shell</h3>
<p>In the context of this example, we will create a 1st Gen Shell, enable AutoLoad and add additional custom functions.</p>

<p><strong>To prepare the 1st Gen Shell for conversion:</strong></p>

<p>1) Create a 1st Gen switch Shell by running the following command in your Command Line:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">shellfoundry new my-switch --template gen1/networking/switch
cd my-switch</code></pre></figure>

<p>This Shell implements the networking standard v 4.0.1.</p>

<p>2) Enable the <em>autoload</em> by updating the following line in the <em>shellconfig.xml</em> file in the <em>datamodel</em> folder:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">&lt;ShellsConfiguration xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://schemas.qualisystems.com/ResourceManagement/ShellsConfigurationSchema.xsd&quot;&gt;
&lt;AutoLoad Enable=&quot;true&quot;&gt;</code></pre></figure>

<p>3) Replace the <em>get_inventory</em> function in the <em>driver.py</em> file with this sample of <em>get_inventory</em>:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def get_inventory(self, context):
       sub_resources = [ AutoLoadResource(model =&#39;Generic Chassis&#39;,name= &#39;Chassis 1&#39;, relative_address=&#39;1&#39;),
       AutoLoadResource(model=&#39;Generic Module&#39;,name= &#39;Module 1&#39;,relative_address= &#39;1/1&#39;),
       AutoLoadResource(model=&#39;Generic Port&#39;,name= &#39;Port 1&#39;, relative_address=&#39;1/1/1&#39;),
       AutoLoadResource(model=&#39;Generic Port&#39;, name=&#39;Port 2&#39;, relative_address=&#39;1/1/2&#39;),
       AutoLoadResource(model=&#39;Generic Power Port&#39;, name=&#39;Power Port&#39;, relative_address=&#39;1/PP1&#39;)]

       attributes = [ AutoLoadAttribute(relative_address=&#39;&#39;, attribute_name=&#39;Location&#39;, attribute_value=&#39;Santa Clara Lab&#39;),
                     AutoLoadAttribute(&#39;&#39;, &#39;Model&#39;, &#39;Catalyst 3850&#39;),
                     AutoLoadAttribute(&#39;&#39;, &#39;Vendor&#39;, &#39;Cisco&#39;),
                     AutoLoadAttribute(&#39;1&#39;, &#39;Serial Number&#39;, &#39;JAE053002JD&#39;),
                     AutoLoadAttribute(&#39;1&#39;, &#39;Model&#39;, &#39;WS-X4232-GB-RJ&#39;),
                     AutoLoadAttribute(&#39;1/1&#39;, &#39;Model&#39;, &#39;WS-X4233-GB-EJ&#39;),
                     AutoLoadAttribute(&#39;1/1&#39;, &#39;Serial Number&#39;, &#39;RVE056702UD&#39;),
                     AutoLoadAttribute(&#39;1/1/1&#39;, &#39;MAC Address&#39;, &#39;fe80::e10c:f055:f7f1:bb7t16&#39;),
                     AutoLoadAttribute(&#39;1/1/1&#39;, &#39;IPv4 Address&#39;, &#39;192.168.10.7&#39;),
                     AutoLoadAttribute(&#39;1/1/2&#39;, &#39;MAC Address&#39;, &#39;te67::e40c:g755:f55y:gh7w36&#39;),
                     AutoLoadAttribute(&#39;1/1/2&#39;, &#39;IPv4 Address&#39;, &#39;192.168.10.9&#39;),
                     AutoLoadAttribute(&#39;1/PP1&#39;, &#39;Model&#39;, &#39;WS-X4232-GB-RJ&#39;),
                     AutoLoadAttribute(&#39;1/PP1&#39;, &#39;Port Description&#39;, &#39;Power&#39;),
                     AutoLoadAttribute(&#39;1/PP1&#39;, &#39;Serial Number&#39;, &#39;RVE056702UD&#39;)]

       return AutoLoadDetails(sub_resources,attributes)</code></pre></figure>

<p>4) Add an additional function that prints the ‘vendor’ attribute value:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def sample_command(self, context):
    &quot;&quot;&quot;
     Restores a saved artifact previously saved by this Shell driver using the orchestration_save function
     :param ResourceCommandContext context: The context object for the command with resource and reservation info
     &quot;&quot;&quot;
    return context.resource.attributes[&quot;Vendor&quot;]</code></pre></figure>

<h3 id="create-a-2nd-gen-shell">Create a 2nd Gen Shell</h3>

<p>To convert the Shell, we will first create a new 2nd Gen Shell that implements the same standard version. Then we can edit the data model and update the driver.</p>

<p><strong>To prepare the 2nd Gen Shell for conversion:</strong></p>
<ul>
  <li>Create a 2nd Gen switch Shell by running the following in your Command Line:</li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">shellfoundry new my-switch-g2 --template gen2/networking/switch
cd my-switch-g2</code></pre></figure>

<p>It is recommended to change the name of the Shell to enable the 1st Gen Shell and the 2nd Gen Shell to work side by side on the same CloudShell database.</p>

<h3 id="edit-the-shells-data-model">Edit the Shell’s data model</h3>

<p><strong>To edit the Shell’s data model:</strong></p>
<ul>
  <li>In the <em>shell-definition.yaml</em> file, update the metadata section and make sure that the Shell imports the same CloudShell standard version as the 1st Gen shell.</li>
</ul>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml">metadata:
  template_name: MySwitch
  template_author: Anonymous
  template_version: 0.1.0
  template_icon: shell-icon.png

description: &gt;
 Sample TOSCA based shell

imports:
  - cloudshell_standard: cloudshell_networking_standard_4_0_1.yaml</code></pre></figure>

<ul>
  <li>
    <p>If the Shell includes custom attributes, see <a href="/shells/9.0.0/modeling-the-shell.html">Modeling the Shell</a> to learn how to model them in 2nd Gen Shell format.</p>
  </li>
  <li>
    <p>If the Shell includes custom attributes in the discovery process, see <a href="/shells/9.0.0/implementing-discovery-for-inventory-shells.html">Auto Discovery For Inventory Shells</a> to learn how to customize the Auto-discovery process.</p>
  </li>
</ul>

<h3 id="convert-the-driver">Convert the Driver</h3>
<p>To convert the driver, we need to update the driver files and then update the code.</p>

<h4 id="updating-the-driver">Updating the driver</h4>
<p>To update the driver, we need to copy the 1st Gen driver into the 2nd Gen Shell project. However, since the name of the Shell may be different, we need to copy the files and keep all the references of the Shell’s name.</p>

<p><strong>To update the driver:</strong></p>

<p>1) In a text editor, open the 2nd Gen driver files in the <strong>src</strong> folder and save the lines that include references to the Shell’s name:</p>
<ul>
  <li>In the <em>drivermetadata.xml</em> file, copy line #1 (<em>MainClass</em> and <em>Name</em>)</li>
</ul>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">&lt;Driver Description=&quot;Describe the purpose of your CloudShell shell&quot; MainClass=&quot;driver.MySwitchG2Driver&quot; Name=&quot;MySwitchG2Driver&quot; Version=&quot;1.0.0&quot;&gt;</code></pre></figure>

<ul>
  <li>In the <em>driver.py</em> file, copy the <em>class name</em></li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python">class MySwitchG2Driver (ResourceDriverInterface):</code></pre></figure>

<p>2)	Replace the files in the 2nd Gen Shell’s <em>src</em> folder with the files from the 1st Gen Shell’s <em>src</em> folder.</p>

<p>3)	To ensure that the original Shell’s name is used, open the files (<em>drivermetadata.xml</em> and <em>driver.py</em>) and replace the relevant lines with the lines we saved.</p>

<p>At this point, it is recommended to install the Shell and make sure that we don’t get any error message. If the installation fails, make sure that the name references match the new Shell’s name and that you copied all the driver files properly.</p>

<p>4) To test the modeling of the 2nd Gen Shell, run the following command in your Command Line to install the Shell:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">shellfoundry install</code></pre></figure>

<h4 id="updating-the-code--the-shells-data-model">Updating the Code – The Shell’s data model</h4>

<p>To convert the 1st Gen Shell code to 2nd Gen, we need to modify it to match the 2nd Gen Shell’s data model.</p>

<p><strong>To update the driver data model code:</strong></p>

<p>1) Generate the Shell’s data model by running the following command in your Command Line:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">shellfoundry generate</code></pre></figure>

<p>2) Add the following to the driver.py file to import the Shell date model into the new driver:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python">from data_model import *</code></pre></figure>

<p>The Shell’s data model should be used in all the places in the driver where we refer to an attribute by name.</p>
<ul>
  <li>For our example, replace the <em>sample_command</em> with the code below.</li>
</ul>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/devguide_examples/blob/master/2nd%20gen%20shells%20-%20migration/src/driver.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    2nd%20gen%20shells%20-%20migration/src/driver.py <a href="https://github.com/QualiSystems/devguide_examples/blob/master/2nd%20gen%20shells%20-%20migration/src/driver.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/devguide_examples/master/2nd%20gen%20shells%20-%20migration/src/driver.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def sample_command(self, context):
    resource = MySwitchG2.create_from_context(context)
    return resource.vendor</code></pre></figure>

<p>This code converts the <em>context</em> object that CloudShell provides to an instance of the Shell’s data model, which is saved in the resource variable, then retrieves the value of the vendor attribute by referring to the <em>resource.vendor</em> property.</p>

<h4 id="updating-the-code--auto-discovery">Updating the code – Auto-Discovery</h4>
<p>To simplify the conversion process, CloudShell provides a special python class that transforms 1st Gen discovery code to the 2nd Gen discovery’s structure without having to rewrite the existing code.</p>

<p>The class is called <em>LegacyUtils</em> and it is automatically generated with the Shell’s data model.</p>

<p>The example below shows how to use the <em>LegacyUtils</em> class:</p>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/devguide_examples/blob/master/2nd%20gen%20shells%20-%20migration/src/driver.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    2nd%20gen%20shells%20-%20migration/src/driver.py <a href="https://github.com/QualiSystems/devguide_examples/blob/master/2nd%20gen%20shells%20-%20migration/src/driver.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/devguide_examples/master/2nd%20gen%20shells%20-%20migration/src/driver.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def get_inventory(self, context):
    sub_resources = [ AutoLoadResource(model =&#39;Generic Chassis&#39;,name= &#39;Chassis 1&#39;, relative_address=&#39;1&#39;),
    AutoLoadResource(model=&#39;Generic Module&#39;,name= &#39;Module 1&#39;,relative_address= &#39;1/1&#39;),
    AutoLoadResource(model=&#39;Generic Port&#39;,name= &#39;Port 1&#39;, relative_address=&#39;1/1/1&#39;),
    AutoLoadResource(model=&#39;Generic Port&#39;, name=&#39;Port 2&#39;, relative_address=&#39;1/1/2&#39;),
    AutoLoadResource(model=&#39;Generic Power Port&#39;, name=&#39;Power Port&#39;, relative_address=&#39;1/PP1&#39;)]

    attributes = [ AutoLoadAttribute(relative_address=&#39;&#39;, attribute_name=&#39;Location&#39;, attribute_value=&#39;Santa Clara Lab&#39;),
                  AutoLoadAttribute(&#39;&#39;, &#39;Model&#39;, &#39;Catalyst 3850&#39;),
                  AutoLoadAttribute(&#39;&#39;, &#39;Vendor&#39;, &#39;Cisco&#39;),
                  AutoLoadAttribute(&#39;1&#39;, &#39;Serial Number&#39;, &#39;JAE053002JD&#39;),
                  AutoLoadAttribute(&#39;1&#39;, &#39;Model&#39;, &#39;WS-X4232-GB-RJ&#39;),
                  AutoLoadAttribute(&#39;1/1&#39;, &#39;Model&#39;, &#39;WS-X4233-GB-EJ&#39;),
                  AutoLoadAttribute(&#39;1/1&#39;, &#39;Serial Number&#39;, &#39;RVE056702UD&#39;),
                  AutoLoadAttribute(&#39;1/1/1&#39;, &#39;MAC Address&#39;, &#39;fe80::e10c:f055:f7f1:bb7t16&#39;),
                  AutoLoadAttribute(&#39;1/1/1&#39;, &#39;IPv4 Address&#39;, &#39;192.168.10.7&#39;),
                  AutoLoadAttribute(&#39;1/1/2&#39;, &#39;MAC Address&#39;, &#39;te67::e40c:g755:f55y:gh7w36&#39;),
                  AutoLoadAttribute(&#39;1/1/2&#39;, &#39;IPv4 Address&#39;, &#39;192.168.10.9&#39;),
                  AutoLoadAttribute(&#39;1/PP1&#39;, &#39;Model&#39;, &#39;WS-X4232-GB-RJ&#39;),
                  AutoLoadAttribute(&#39;1/PP1&#39;, &#39;Port Description&#39;, &#39;Power&#39;),
                  AutoLoadAttribute(&#39;1/PP1&#39;, &#39;Serial Number&#39;, &#39;RVE056702UD&#39;)]

    autoload_details = AutoLoadDetails(sub_resources,attributes)
    migrated_details = LegacyUtils().migrate_autoload_details(autoload_details, context)

    return migrated_details.create_autoload_details()</code></pre></figure>

<p>In this example, you can see that the code creates two arrays: <em>sub_resources</em> and <em>attributes</em>, which are saved in the <em>autoload_details</em> object. This 1st Gen structure is using explicit attribute names and model names in string format and needs to be transformed to 2nd Gen format.</p>

<p>With the <em>LegacyUtils().migrate_autoload_details</em> method, we convert the <em>autoload_details</em> object into a new object <em>migrated_details</em>. Then the function returns the new formatted structure by calling the <em>migrated_details.create_autoload_details()</em> object.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python">migrated_details = LegacyUtils().migrate_autoload_details(autoload_details, context)
return migrated_details.create_autoload_details()</code></pre></figure>

<p>By using <em>LegacyUtils</em> we can avoid rewriting the <em>get_invontory</em> function. However, in the long term, it is recommended to refactor the code to use the Shell’s data model, as defined in   <a href="/shells/9.0.0/implementing-discovery-for-inventory-shells.html">Auto Discovery For Inventory Shells</a></p>

<h3 id="test-the-conversion">Test the conversion</h3>
<p><strong>To test the conversion:</strong></p>

<p>1)	Install the Shell by running the following in Command-Line:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">shellfoundry install</code></pre></figure>

<p>2)	Log in as administrator to CloudShell Portal, create a Shell resource.
Make sure that the Auto-discovery successfully creates the resource with all of its sub-resources.</p>

<p>3)	Add the resource to a sandbox and run the <em>sample_command</em>.</p>

<p>4)	Check the <strong>Output</strong> console to see that the command successfully printed the value of the vendor attribute.</p>








    <div id="post-nav" class="clearfix">
        
            <a class="prev" href="/reference/9.0.0/quali-shell-framework.html">&laquo; Quali’s Shell Framework (Python 2)</a>
        
        
            <a class="next" href="/reference/9.0.0/associating-service-categories.html">Categories in 1st Gen Service Shells &raquo;</a>
        
    </div>




<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        var disqus_identifier = '_reference/9.0.0/migrating_1st_gen_shells.md';
        var disqus_url = 'https://devguide.quali.com/reference/9.0.0/migrating_1st_gen_shells.html';
        this.page.url = "https://devguide.quali.com/reference/9.0.0/migrating_1st_gen_shells.html";  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = disqus_identifier; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//qualidev.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>






<ul >
    
</ul>


<script src="/js/search.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">
  $(function() {
    $('#search-query').lunrSearch({
      indexUrl  : '/js/index.json',           // url for the .json file containing search index data
      results   : '#search-results',          // selector for containing search results element
      template  : '#search-results-template', // selector for Mustache.js template
      titleMsg  : '',   // message attached in front of results (can be empty)
      emptyMsg  : '<p>Nothing found.</p>'     // shown message if search returns no results
    });
  });
</script>

<script>
$(function() {
    page = $(".page-header").attr("data-page-id")
    nav_item = $(".nav li[data-page-id='"+page+"']")
    if (nav_item) {
        $(".nav").find(".active").removeClass("active");
        nav_item.addClass("active");
    }
})
</script>

                    </div>
                
            </div>

            

            <div class="row">
                <div id="footer" class="col-sm-12">
                    
<div class="qs-control-container scroll-enable">
	<a href="https://github.com/QualiSystems/devguide_source/issues/new?title=New%20suggestion%20for%20/reference/9.0.0/migrating_1st_gen_shells.html" target="_blank" class="qs-btn-round qs-btn-mail" title="Send feedback">
	</a>

	<button class="qs-btn-round qs-btn-scroll-top tooltip tooltipstered">
	</button>
</div>


Documentation for <a href="http://www.quali.com">CloudShell Developer Guide</a>

                </div>
            </div>
        </div>

        <script src="/js/prism.js"></script>
        
        <script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-81468206-1', 'auto');
 ga('send', 'pageview');

</script>

        
    </body>

</html>
