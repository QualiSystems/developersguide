<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">
        <link rel="search" type="application/opensearchdescription+xml" title="CloudShell DevGuide" href="/opensearch.xml" />
        <title>CloudShell Developer Guide : App Deployment</title>
        <meta name="description" content="">
        <link rel="shortcut icon" type="image/png" href="/favicon.png?">
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/main.css">
        <link rel="stylesheet" href="/css/prism.css">
        <link rel="stylesheet" href="/css/QualiStyle.css">
        <link rel="stylesheet" href="/css/samples.css">
        <link rel="stylesheet" href="/css/normalize.css">
        <link rel="stylesheet" href="/css/test-hot-block.webflow.css">


        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
        <script src="/js/jquery-3.1.0.min.js"></script>
        <script src="/js/modernizr.js"></script>
        <script src="/js/webflow.js"></script>
        <script src="/js/version-redirect.js"></script>

        
    </head>
    <body>
        <div id="header">
            <div class="container">
                <div class="row">
    <div class="col-md-3 col-sm-4">
        <a class="brand" href="/">
            <img alt="CloudShell Logo" src="/assets/logo.png" />
            CloudShell <small>Developer Guide</small>
        </a>
    </div>
    <div class="col-md-9 col-sm-8">
        
		  
        <form class="search" action="/search/2020.1.0/search.html">
            <input class="input" id="search-query" type="text" name="q" placeholder="Search" />
            <input class="button" type="submit" value="Search"></input>
        </form>
    </div>
</div>

            </div>
        </div>
        <div class="container">
            <div class="row"> 
            	
                <!-- <div class="col-md-3"><span> Sveta </span></div> -->
                               
                
                
                    <div id="navigation" class="col-md-3 col-sm-4">
                        <span><strong>CloudShell Version: </strong></span>
                        <div id="versions">
                            <div class="form-group" onchange="versionChange(this)">
	<select class="form-control" id="version">
   
   	
		
	
		  
	  <option value="9.3.0">9.3.0</option>
	
	
		  
	  <option value="9.2.0">9.2.0</option>
	
	
		  
	  <option value="9.1.0">9.1.0</option>
	
	
		  
	  <option value="9.0.0">9.0.0</option>
	
	
		  
	  <option value="8.3.0">8.3.0</option>
	
	
	
	  <option value="2020.1.0" selected>2020.1.0</option>
	
	
	</select>
</div>
                        </div>
                        <ul class="nav nav-list" style="margin-top: -30px;">  
     
        
           <li class="nav-header"></li>
			  
           
           
        
           <li class="nav-header">Introduction</li>
			  
           
           
               
			      
					               
               	
                       <li data-page-id="_introduction/2020.1.0/the-cloudshell-devguide.md" data-order="1"><a href="/introduction/2020.1.0/the-cloudshell-devguide.html">The CloudShell DevGuide</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_introduction/2020.1.0/setting-up-the-development-ide.md" data-order="2"><a href="/introduction/2020.1.0/setting-up-the-development-ide.html">Setting up the Development Environment</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Extending cloudshell with shells</li>
			  
           
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/getting-started.md" data-order="1"><a href="/shells/2020.1.0/getting-started.html">Getting Started</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/shell-driver-overview.md" data-order="2"><a href="/shells/2020.1.0/shell-driver-overview.html">Shell Drivers Overview</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/the-shell-project.md" data-order="3"><a href="/shells/2020.1.0/the-shell-project.html">The Shell Project Guide</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/modeling-the-shell.md" data-order="4"><a href="/shells/2020.1.0/modeling-the-shell.html">Modeling Shells with TOSCA</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/generating-shell-data-model.md" data-order="5"><a href="/shells/2020.1.0/generating-shell-data-model.html">Managing the Shell’s Data Model</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/getting-information-from-cloudshell.md" data-order="6"><a href="/shells/2020.1.0/getting-information-from-cloudshell.html">Getting Information from CloudShell</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/customizing-driver-commands.md" data-order="7"><a href="/shells/2020.1.0/customizing-driver-commands.html">Commands Visibility and Usability</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/driver-deep-dive.md" data-order="8"><a href="/shells/2020.1.0/driver-deep-dive.html">Driver Deep Dive</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/implementing-discovery-for-inventory-shells.md" data-order="9"><a href="/shells/2020.1.0/implementing-discovery-for-inventory-shells.html">Auto-discovery for Inventory Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/discovering-inventory-snmp.md" data-order="10"><a href="/shells/2020.1.0/discovering-inventory-snmp.html">Discovering Inventory using SNMP</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/debugging-shell-commands.md" data-order="11"><a href="/shells/2020.1.0/debugging-shell-commands.html">Debugging Shell Driver Commands</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/deploying-to-production.md" data-order="12"><a href="/shells/2020.1.0/deploying-to-production.html">Deploying to Production</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/customizing-shells.md" data-order="13"><a href="/shells/2020.1.0/customizing-shells.html">Customizing Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/common-driver-recipes.md" data-order="14"><a href="/shells/2020.1.0/common-driver-recipes.html">Common Driver Recipes</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/tips-and-tricks.md" data-order="15"><a href="/shells/2020.1.0/tips-and-tricks.html">Tips and Tricks</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/sharing-shells-with-community.md" data-order="16"><a href="/shells/2020.1.0/sharing-shells-with-community.html">Sharing a Shell with the Community</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_shells/2020.1.0/1st-gen-shells.md" data-order="17"><a href="/shells/2020.1.0/1st-gen-shells.html">1st Gen Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Orchestration scripts</li>
			  
           
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/2020.1.0/getting-started.md" data-order="1"><a href="/orchestration/2020.1.0/getting-started.html">Getting Started</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/2020.1.0/getting-information-from-cloudshell.md" data-order="2"><a href="/orchestration/2020.1.0/getting-information-from-cloudshell.html">Getting Information from CloudShell</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/2020.1.0/script-commands-customization.md" data-order="6"><a href="/orchestration/2020.1.0/script-commands-customization.html">Script commands Visibility and Usability</a></li>
						
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/2020.1.0/scripts-deep-dive.md" data-order="6"><a href="/orchestration/2020.1.0/scripts-deep-dive.html">Scripts Deep Dive</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/2020.1.0/common-orchestration-recipes.md" data-order="9"><a href="/orchestration/2020.1.0/common-orchestration-recipes.html">Common Orchestration Script Recipes</a></li>
						
					
           
               
			      
					               
               	
                       <li data-page-id="_orchestration/2020.1.0/the-oob-orchestration.md" data-order="9"><a href="/orchestration/2020.1.0/the-oob-orchestration.html">CloudShell's OOB Orchestration</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Configuration management</li>
			  
           
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/2020.1.0/cf-overview.md" data-order="1"><a href="/configmanagement/2020.1.0/cf-overview.html">Overview</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/2020.1.0/cf-custom-scripts.md" data-order="2"><a href="/configmanagement/2020.1.0/cf-custom-scripts.html">Custom Scripts</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/2020.1.0/cf-add-custom-script-to-app.md" data-order="3"><a href="/configmanagement/2020.1.0/cf-add-custom-script-to-app.html">Adding Your Script to an App</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/2020.1.0/cf-custom-scripts-tips-and-tricks.md" data-order="4"><a href="/configmanagement/2020.1.0/cf-custom-scripts-tips-and-tricks.html">Tips and Tricks for Custom Scripts</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/2020.1.0/cf-ansible.md" data-order="5"><a href="/configmanagement/2020.1.0/cf-ansible.html">Ansible</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/2020.1.0/cf-ansible-examples.md" data-order="6"><a href="/configmanagement/2020.1.0/cf-ansible-examples.html">Ansible Playbook Examples</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/2020.1.0/cf-add-playbook-to-app.md" data-order="7"><a href="/configmanagement/2020.1.0/cf-add-playbook-to-app.html">Adding the Playbook to an App</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_configmanagement/2020.1.0/cf-ansible-tips-and-tricks.md" data-order="8"><a href="/configmanagement/2020.1.0/cf-ansible-tips-and-tricks.html">Tips and Tricks for Ansible Playbooks</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Extending cloudshell with cloud providers</li>
			  
           
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/2020.1.0/getting-started-with-cloud-providers.md" data-order="1"><a href="/cloudproviders/2020.1.0/getting-started-with-cloud-providers.html">Getting Started with Cloud Providers</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/2020.1.0/creating-cloud-provider-shell.md" data-order="3"><a href="/cloudproviders/2020.1.0/creating-cloud-provider-shell.html">Creating the Cloud Provider Shell</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/2020.1.0/the-cloud-provider-model.md" data-order="5"><a href="/cloudproviders/2020.1.0/the-cloud-provider-model.html">The Cloud Provider Model</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/2020.1.0/extending-cloud-provider-shell-data-model.md" data-order="7"><a href="/cloudproviders/2020.1.0/extending-cloud-provider-shell-data-model.html">Extending the Shell's Data Model</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/2020.1.0/removing-the-address-field.md" data-order="8"><a href="/cloudproviders/2020.1.0/removing-the-address-field.html">Removing the Address Field</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/2020.1.0/configuring-deployment-paths.md" data-order="9"><a href="/cloudproviders/2020.1.0/configuring-deployment-paths.html">Configuring Deployment Paths</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/2020.1.0/controlling-app-deployment-orchestration.md" data-order="11"><a href="/cloudproviders/2020.1.0/controlling-app-deployment-orchestration.html">Controlling App Deployment Orchestration</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/2020.1.0/the-cloud-provider-interface.md" data-order="13"><a href="/cloudproviders/2020.1.0/the-cloud-provider-interface.html">The Cloud Provider Interface</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/2020.1.0/resource-discovery.md" data-order="15"><a href="/cloudproviders/2020.1.0/resource-discovery.html">Resource Discovery</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/2020.1.0/app-deployment.md" data-order="17"><a href="/cloudproviders/2020.1.0/app-deployment.html">App Deployment</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/2020.1.0/power-off-and-delete.md" data-order="19"><a href="/cloudproviders/2020.1.0/power-off-and-delete.html">Power off and Delete VM</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/2020.1.0/L2-networking-management.md" data-order="21"><a href="/cloudproviders/2020.1.0/L2-networking-management.html">L2 Network Connectivity</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_cloudproviders/2020.1.0/L3-networking-management.md" data-order="23"><a href="/cloudproviders/2020.1.0/L3-networking-management.html">L3 Network Connectivity</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Cloudshell apis</li>
			  
           
           
               
			      
					               
               	
                       <li data-page-id="_devops/2020.1.0/available-apis.md" data-order="1"><a href="/devops/2020.1.0/available-apis.html">Available CloudShell APIs</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_devops/2020.1.0/devops-integration.md" data-order="2"><a href="/devops/2020.1.0/devops-integration.html">Automating CloudShell Sandboxes for DevOps</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
        
           <li class="nav-header">Reference</li>
			  
           
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/python-coding-standards.md" data-order="3"><a href="/reference/2020.1.0/python-coding-standards.html">Python Coding Standards</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/shellfoundry-intro.md" data-order="5"><a href="/reference/2020.1.0/shellfoundry-intro.html">Shellfoundry</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/quali-shell-framework.md" data-order="7"><a href="/reference/2020.1.0/quali-shell-framework.html">Quali’s Shell Framework (Python 2)</a></li>
						
					
           
               
			      
					
           
               
			      
					               
               	
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/quali-shell-framework-python-3.md" data-order="9"><a href="/reference/2020.1.0/quali-shell-framework-python-3.html">Quali’s Shell Framework (Python 3)</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/migrating_1st_gen_shells.md" data-order="10"><a href="/reference/2020.1.0/migrating_1st_gen_shells.html">Converting 1st Gen Shells into 2nd Gen</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/associating-service-categories.md" data-order="11"><a href="/reference/2020.1.0/associating-service-categories.html">Categories in 1st Gen Service Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/mapping-sub-resource-connections.md" data-order="12"><a href="/reference/2020.1.0/mapping-sub-resource-connections.html">Mapping Connections using App Sub-resources</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/L1-switch-shell.md" data-order="13"><a href="/reference/2020.1.0/L1-switch-shell.html">L1 Switch Shells</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/short-dev-videos.md" data-order="14"><a href="/reference/2020.1.0/short-dev-videos.html">Short Development Videos</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/resource-scripts.md" data-order="15"><a href="/reference/2020.1.0/resource-scripts.html">Resource Scripts</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/defining-Azure-custom-routing.md" data-order="17"><a href="/reference/2020.1.0/defining-Azure-custom-routing.html">Custom Routing for Azure Apps</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/working-with-sandbox-metadata.md" data-order="19"><a href="/reference/2020.1.0/working-with-sandbox-metadata.html">Custom Sandbox Metadata</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/creating-static-vm.md" data-order="21"><a href="/reference/2020.1.0/creating-static-vm.html">Shells that Load a Static VM</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/intellisense-with-docstrings.md" data-order="23"><a href="/reference/2020.1.0/intellisense-with-docstrings.html">Intellisense in Shells and Scripts (using Docstrings)</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/aws-traffic-mirroring.md" data-order="25"><a href="/reference/2020.1.0/aws-traffic-mirroring.html">AWS Traffic Mirroring</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/common-cloudshell-packages.md" data-order="27"><a href="/reference/2020.1.0/common-cloudshell-packages.html">Common CloudShell Packages</a></li>
						
					
           
               
			      
					               
               	
					
           
               
			      
					               
               	
                       <li data-page-id="_reference/2020.1.0/migrating-shells-to-python-3.md" data-order="29"><a href="/reference/2020.1.0/migrating-shells-to-python-3.html">Migrating Shells to Python 3</a></li>
						
					
           
               
			      
					               
               	
					
           
        
</ul>

                    </div>

                    <div id="content" class="col-md-9 col-sm-8">
                        

<div class="page-header" data-page-id="_cloudproviders/2020.1.0/app-deployment.md">
    <h2>App Deployment
        
        
          
        
    </h2>
</div>


<p>In this article, we’ll learn how to implement the App’s deployment.</p>

<p>To deploy an App successfully, you need to implement the following 4 methods:</p>

<ol>
  <li><a href="#Deploy">Deploy</a> creates the App’s VM instance.</li>
  <li><a href="#PowerOn">PowerOn</a> spins up the VM.</li>
  <li><a href="#RemoteRefreshIp">remote_refresh_ip</a> updates the deployed App’s IP address.</li>
  <li><a href="#GetVmDetails">GetVmDetails</a> gets information about the VM itself, its operating system, specifications and networking information.</li>
</ol>

<p>These methods are executed in the above order during the deployment of an App in the sandbox (either automatically as part of the default sandbox setup script that runs when reserving a sandbox or manually by the user after adding an App to an active sandbox). Once the App is deployed, these methods can be run as individual commands from the deployed App’s commands pane, with the exception of the <em>Deploy</em> command which is no longer needed once the App is deployed.<a name="Deploy"></a>.</p>

<h2 id="deploy-method">Deploy method</h2>

<p>Creates the App’s VM instance.</p>

<h3 id="signature">Signature</h3>

<p>The <em>deploy</em> method accepts three inputs: <em>context</em>, <em>request</em>, and <em>cancellation_context</em>.</p>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/865f356f4aec14e170cd9e5f30b575c48f2dc865/src/driver.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    src/driver.py <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/865f356f4aec14e170cd9e5f30b575c48f2dc865/src/driver.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/865f356f4aec14e170cd9e5f30b575c48f2dc865/src/driver.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def Deploy(self, context, request, cancellation_context=None):</code></pre></figure>

<h3 id="inputs">Inputs</h3>

<p><strong>context</strong></p>

<p><strong>context:</strong> <em>context</em> is a <em>ResourceCommandContext</em> object that contains:</p>

<ol>
  <li>connectivity - CloudShell server connectivity data for authentication with CloudShell Automation API</li>
  <li>resource - resource configuration settings entered when creating the Cloud Provider resource in the <strong>Inventory</strong> dashboard</li>
  <li>reservation - current reservation details</li>
  <li>connectors – details of any visual connectors between the Cloud Provider App and other endpoints in the sandbox</li>
</ol>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    cloudshell/shell/core/driver_context.py <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/cloudshell-shell-core/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">class ResourceCommandContext:
    def __init__(self, connectivity, resource, reservation, connectors):
        self.connectivity = connectivity  # Connectivity details that can help connect to the APIs
        &quot;&quot;&quot;:type : ConnectivityContext&quot;&quot;&quot;
        self.resource = resource  # The details of the resource using the driver
        &quot;&quot;&quot;:type : ResourceContextDetails&quot;&quot;&quot;
        self.reservation = reservation  # The details of the reservation
        &quot;&quot;&quot;:type : ReservationContextDetails&quot;&quot;&quot;
        self.connectors = connectors  # The list of visual connectors and routes that are connected to the resource (the resource will be considered as the source end point)
        &quot;&quot;&quot;:type : list[Connector]&quot;&quot;&quot;</code></pre></figure>

<p><strong>Request</strong></p>

<p><em>Request</em> object that contains the resource deployment path and deployed App configuration (in the App template’s <strong>App Resource</strong> page).</p>

<p><strong>cancellation_context</strong></p>

<p>CloudShell supports the canceling of App command executions.</p>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    cloudshell/shell/core/driver_context.py <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/cloudshell-shell-core/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def __init__(self):
    self.is_cancelled = False
    &quot;&quot;&quot;:type : bool&quot;&quot;&quot;</code></pre></figure>

<p>To allow the cancellation of a command on the Cloud Provider’s Apps, we need to:</p>

<ol>
  <li>Check for cancellation before each operation. If cancelled, delete cloud objects created by operation.</li>
  <li>Return the appropriate result.</li>
</ol>

<p>Usage example</p>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/865f356f4aec14e170cd9e5f30b575c48f2dc865/src/heavenly_cloud_service_wrapper.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    src/heavenly_cloud_service_wrapper.py <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/865f356f4aec14e170cd9e5f30b575c48f2dc865/src/heavenly_cloud_service_wrapper.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/865f356f4aec14e170cd9e5f30b575c48f2dc865/src/heavenly_cloud_service_wrapper.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">if cancellation_context.is_cancelled:
      # rollback what we created for current executing command then raise exception
      # HeavenlyCloudService.rollback()
      raise Exception(&#39;Operation cancelled&#39;)</code></pre></figure>

<h3 id="output">Output</h3>

<p><em>DriverResponse</em> object that contains a list of action results.</p>

<h3 id="error-handling">Error handling</h3>

<p>If App deployment fails, return a “success false” action result.</p>

<h3 id="deploy-method-implementation">Deploy method implementation</h3>

<p>The deploy method should perform the following steps:</p>

<ol>
  <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/a9a14e87570fdc52d9994950e161b104c62401fb/src/driver.py#L91" target="_blank">Retrieve the cloud provider resource’s connection credentials</a>.</li>
  <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/a9a14e87570fdc52d9994950e161b104c62401fb/src/driver.py#L92-L95" target="_blank">Retrieve the <em>Deploy</em> action</a>.</li>
  <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/a9a14e87570fdc52d9994950e161b104c62401fb/src/driver.py#L99-L106" target="_blank">Call the <em>Deploy</em> logic of the selected deployment type</a>.</li>
  <li><em>(Steps 4 - 8 are performed within the deploy logic)</em> <a href="https://github.com/QualiSystems/Custom-L3-Cloud-Provider-Shell-Example/blob/4aa0c863da205686952e414e16a0baea954b2bfa/src/heavenly_cloud_service_wrapper.py#L22" target="_blank">Generate a unique name for the App. For example, “My-App_968e-a950”</a>. Deployed Apps are classified as resources in CloudShell and therefore must have a unique name.</li>
  <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/a9a14e87570fdc52d9994950e161b104c62401fb/src/heavenly_cloud_service_wrapper.py#L47-L48" target="_blank">Create a VM instance using the deployment path attributes</a> (the HeavenlyCloud service represents your custom cloud SDK).</li>
  <li>If VM deployment is successful:
    <ul>
      <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/a9a14e87570fdc52d9994950e161b104c62401fb/src/heavenly_cloud_service_wrapper.py#L78-L79" target="_blank">Collect VM details</a> (operating system, specifications, networking information).</li>
      <li>Optionally, <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/a9a14e87570fdc52d9994950e161b104c62401fb/src/heavenly_cloud_service_wrapper.py#L59-L62" target="_blank">override App resource attribute values</a>. For <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/a9a14e87570fdc52d9994950e161b104c62401fb/src/heavenly_cloud_service_wrapper.py#L51-L58" target="_blank">example</a>, if we generate a unique password for each VM instance, we will also want to update this password in the Password attribute on the Deployed App Resource for future use (to allow the sandbox end-user to connect to the VM).</li>
      <li>If needed, <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/a9a14e87570fdc52d9994950e161b104c62401fb/src/heavenly_cloud_service_wrapper.py#L84-L88" target="_blank">add additional data to the action result</a>. This key-value data will be available from all API resource queries. It can be useful for implementing custom logic during the lifecycle of the sandbox. <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/a9a14e87570fdc52d9994950e161b104c62401fb/src/heavenly_cloud_service_wrapper.py#L245-L249" target="_blank">Example</a>.</li>
    </ul>
  </li>
  <li>If VM deployment fails, <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/a9a14e87570fdc52d9994950e161b104c62401fb/src/heavenly_cloud_service_wrapper.py#L74-L76" target="_blank">return a “fail” result</a>.</li>
  <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/a9a14e87570fdc52d9994950e161b104c62401fb/src/heavenly_cloud_service_wrapper.py#L92-L99" target="_blank">Return <em>DeployAppResult</em></a>.</li>
  <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/a9a14e87570fdc52d9994950e161b104c62401fb/src/driver.py#L112" target="_blank">Return <em>DriverResponse</em></a>.</li>
</ol>

<p>Note that the links in the above workflow pertain to a driver of an L2 implementation. However, the only difference between L2 and L3 driver implementations is that L2 implements <em>ApplyConnectivityChanges</em> while L3 uses the <em>PrepareSandboxInfra</em> and <em>CleanSandboxInfra</em> methods.</p>

<h3 id="deployappresult-json-example">DeployAppResult JSON example</h3>
<details><summary>Click here</summary>
<p>

<div>
  <pre data-line=""><code class="language-javascript">{
  &quot;actionId&quot;: &quot;aac7cc0c-a215-4aee-8fc1-f72020.1.034423&quot;,
  &quot;deployedAppAdditionalData&quot;: {},
  &quot;deployedAppAddress&quot;: &quot;192.168.0.5&quot;,
  &quot;deployedAppAttributes&quot;: [
    {
      &quot;attributeName&quot;: &quot;Password&quot;,
      &quot;attributeValue&quot;: &quot;123456&quot;
    },
    {
      &quot;attributeName&quot;: &quot;User&quot;,
      &quot;attributeValue&quot;: &quot;super user&quot;
    }
  ],
  &quot;errorMessage&quot;: &quot;&quot;,
  &quot;infoMessage&quot;: &quot;&quot;,
  &quot;success&quot;: true,
  &quot;type&quot;: &quot;DeployApp&quot;,
  &quot;vmDetailsData&quot;: {
    &quot;appName&quot;: &quot;&quot;,
    &quot;errorMessage&quot;: &quot;&quot;,
    &quot;vmInstanceData&quot;: [
      {
        &quot;hidden&quot;: false,
        &quot;key&quot;: &quot;Cloud Name&quot;,
        &quot;value&quot;: &quot;white&quot;
      },
      {
        &quot;hidden&quot;: false,
        &quot;key&quot;: &quot;Cloud Index&quot;,
        &quot;value&quot;: &quot;0&quot;
      },
      {
        &quot;hidden&quot;: false,
        &quot;key&quot;: &quot;Cloud Size&quot;,
        &quot;value&quot;: &quot;not so big&quot;
      },
      {
        &quot;hidden&quot;: false,
        &quot;key&quot;: &quot;Instance Name&quot;,
        &quot;value&quot;: &quot;angel vm__ca11f5&quot;
      },
      {
        &quot;hidden&quot;: true,
        &quot;key&quot;: &quot;Hidden stuff&quot;,
        &quot;value&quot;: &quot;something not for UI&quot;
      }
    ],
    &quot;vmNetworkData&quot;: [
      {
        &quot;interfaceId&quot;: 0,
        &quot;isPredefined&quot;: false,
        &quot;isPrimary&quot;: true,
        &quot;networkData&quot;: [
          {
            &quot;hidden&quot;: false,
            &quot;key&quot;: &quot;MaxSpeed&quot;,
            &quot;value&quot;: &quot;1KB&quot;
          },
          {
            &quot;hidden&quot;: false,
            &quot;key&quot;: &quot;Network Type&quot;,
            &quot;value&quot;: &quot;Ethernet&quot;
          }
        ],
        &quot;networkId&quot;: 0,
        &quot;privateIpAddress&quot;: &quot;10.0.0.0&quot;,
        &quot;publicIpAddress&quot;: &quot;8.8.8.0&quot;
      },
      {
        &quot;interfaceId&quot;: 1,
        &quot;isPredefined&quot;: false,
        &quot;isPrimary&quot;: false,
        &quot;networkData&quot;: [
          {
            &quot;hidden&quot;: false,
            &quot;key&quot;: &quot;MaxSpeed&quot;,
            &quot;value&quot;: &quot;1KB&quot;
          },
          {
            &quot;hidden&quot;: false,
            &quot;key&quot;: &quot;Network Type&quot;,
            &quot;value&quot;: &quot;Ethernet&quot;
          }
        ],
        &quot;networkId&quot;: 1,
        &quot;privateIpAddress&quot;: &quot;10.0.0.1&quot;,
        &quot;publicIpAddress&quot;: &quot;8.8.8.1&quot;
      }
    ]
  },
  &quot;vmName&quot;: &quot;angel vm__ca11f5&quot;,
  &quot;vmUuid&quot;: &quot;027ad770-9ecb-4936-a7df-aeaf526dfc34&quot;
}
}</code></pre>
</div>



</p>
</details>

<style>
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
}

tr:nth-child(even) {
    background-color: #dddddd;
}
</style>

<h4 id="deployappresult-properties">DeployAppResult properties</h4>

<table>
  <tbody>
    <tr>
      <td><strong>Name</strong></td>
      <td><strong>Type</strong></td>
      <td><strong>Description</strong></td>
    </tr>
    <tr>
      <td>actionId</td>
      <td>string</td>
      <td>(Mandatory) The action GUID as received (deploy_app_action.actionId) result must include the action id it results for, so server can match result to action.</td>
    </tr>
    <tr>
      <td>deployedAppAddress</td>
      <td>string</td>
      <td>(Mandatory) The primary ip address of the VM instance. This value will be set as the deployed App’s resource address in CloudShell.</td>
    </tr>
    <tr>
      <td>errorMessage</td>
      <td>string</td>
      <td>(Optional) Error message to be displayed to the sandbox end-user if VM deployment fails.</td>
    </tr>
    <tr>
      <td>infoMessage</td>
      <td>string</td>
      <td>(Optional) Info message to be displayed to the sandbox end-user if VM deployment succeeds.</td>
    </tr>
    <tr>
      <td>success</td>
      <td>bool</td>
      <td>(Mandatory)</td>
    </tr>
    <tr>
      <td>type</td>
      <td>string</td>
      <td>(Read only) <em>DeployApp</em> object type. It is automatically set in <em>DeployAppResult</em> object type (in cloudshell-cp-core).</td>
    </tr>
    <tr>
      <td>vmName</td>
      <td>string</td>
      <td>Unique name of the resource in CloudShell.</td>
    </tr>
    <tr>
      <td>vmUuid</td>
      <td>string</td>
      <td>Unique resource id. Populate <em>vmUuid</em> with the unique id of the resource in your custom cloud provider. Cloudshell does not use this id, but will keep it for other method calls.</td>
    </tr>
    <tr>
      <td>deployedAppAdditionalData</td>
      <td>dictionary</td>
      <td>Container used to persist custom data in resource, similar to AWS Tags. Included in all resource API query results. For <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/ac94224fd2368aaa9b589bcdfd30e449a53c90ce/src/heavenly_cloud_service_wrapper.py#L209-L213" target="_blank">example</a>, reading the custom data and returning it in the VM Details.</td>
    </tr>
    <tr>
      <td>deployedAppAttributes</td>
      <td>array</td>
      <td>Contains data describing the deployed app attributes, and are displayed in the App’s <strong>Attributes</strong> pane in the sandbox. It should be used to change default attribute values on the deployed App resource. For example User &amp; Password attributes exist as part of the default deployed App model. If your custom cloud provider generates a password in runtime for the VM, you should update the <em>deployedAppAttributes</em> property accordingly.</td>
    </tr>
    <tr>
      <td>vmDetailsData</td>
      <td>object</td>
      <td>Contains vmNetworkData and vmInstanceData. Displayed in the App’s VM Details pane. For details about the return data, see the <a href="#GetVmDetails">GetVmDetails method</a>’s <strong>Return value</strong> section below.</td>
    </tr>
  </tbody>
</table>

<p><a name="PowerOn"></a></p>

<h2 id="poweron-method">PowerOn method</h2>

<p>The <em>PowerOn</em> method spins up the VM. It is run automatically when reserving the sandbox, as part of CloudShell’s default sandbox setup script, and can also be run manually by the sandbox end-user from the deployed App’s commands pane. During <em>PowerOn</em>, the VM’s IP address and a green live status icon are displayed on the App in sandbox.</p>

<p>You don’t have to implement this method if the <em>deploy</em> method has been configured to spin up the VM.
If <em>PowerOn</em> does not fail, CloudShell will set resource state to “online” once the VM is up.</p>

<h3 id="signature-1">Signature</h3>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def PowerOn(self, context, ports)</code></pre></figure>

<h3 id="inputs-1">Inputs</h3>

<p><strong>context:</strong> <em>context</em> is a <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py#L171-L180" target="_blank">ResourceRemoteCommandContext</a> object that contains:</p>

<ol>
  <li>connectivity - CloudShell server connectivity data for authentication with CloudShell Automation API</li>
  <li>resource - resource configuration settings entered by the user when creating the Cloud Provider resource in the <strong>Inventory</strong> dashboard</li>
  <li>remote_reservation – reservation details</li>
  <li>remote_endpoints- will contain a single <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py#L38-L64" target="_blank">ResourceContextDetails</a> object which provides data for the operation.</li>
</ol>

<p><strong>Ports</strong></p>

<p>Legacy argument. Obsolete for custom cloud providers.</p>

<h3 id="poweron-method-implementation">PowerOn method implementation</h3>

<p>The <em>PowerOn</em> method should perform the following steps:</p>

<p>1) Retrieve the cloud provider resource’s connection credentials.</p>

<p>2) Convert the <em>deployed_app_json</em> context from string to object.</p>

<p>     The json contains information about the CloudShell server, the deployed App and reservation.</p>

<p>     For details, copy the json contents into your preferred JSON editor. For example:</p>

<p><img src="/assets/PowerOn-json-example.png" alt="PowerOn JSON" /></p>

<p>3) Power on the deployed App resource.</p>

<h3 id="poweron-implementation-example">PowerOn implementation example</h3>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/ea88bab874c42d69508ba5b2542e867c5b375d5f/src/driver.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    src/driver.py <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/ea88bab874c42d69508ba5b2542e867c5b375d5f/src/driver.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/ea88bab874c42d69508ba5b2542e867c5b375d5f/src/driver.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def PowerOn(self, context, ports):
      &quot;&quot;&quot;
      Will power on the compute resource
      :param ResourceRemoteCommandContext context:
      :param ports:
      &quot;&quot;&quot;
      with LoggingSessionContext(context) as logger, ErrorHandlingContext(logger):
          self._log(logger, &#39;power_on_context&#39;, context)
          self._log(logger, &#39;power_on_ports&#39;, ports)
          cloud_provider_resource = L2HeavenlyCloudShell.create_from_context(context)
          resource_ep =  context.remote_endpoints[0]
          deployed_app_dict = json.loads(resource_ep.app_context.deployed_app_json)
          vm_uid = deployed_app_dict[&#39;vmdetails&#39;][&#39;uid&#39;]
          HeavenlyCloudServiceWrapper.power_on(cloud_provider_resource,vm_uid)</code></pre></figure>

<h3 id="return-value">Return value</h3>

<p>None</p>

<h3 id="error-handling-1">Error handling</h3>

<p>In case of an error, the command should raise an exception.</p>

<p><a name="RemoteRefreshIp"></a></p>

<h2 id="remote_refresh_ip">remote_refresh_ip</h2>

<p>The <em>remote_refresh_ip</em> method retrieves the VM’s updated IP address from the cloud provider and sets it on the deployed App resource. The IP of the main network interface also needs to be retrieved from the cloud provider. Both private and public IPs are retrieved, as appropriate.</p>

<p><em>remote_refresh_ip</em> is run automatically during the sandbox’s setup, after the VM is created and connected to networks, and can also be run manually by the sandbox end-user by running the <strong>Refresh IP</strong> command in the sandbox.</p>

<p><strong>Note:</strong> This method is mandatory. However, you can choose to disable the call to this method during setup using the <strong>Wait for IP</strong> attribute. For details, see <a href="/cloudproviders/2020.1.0/controlling-app-deployment-orchestration.html">Controlling App Deployment Orchestration</a>.</p>

<h3 id="signature-2">Signature</h3>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def remote_refresh_ip(self, context, ports, cancellation_context):</code></pre></figure>

<h3 id="inputs-2">Inputs</h3>

<p><strong>context</strong>: <em>context</em> is a <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py#L171-L180" target="_blank">ResourceRemoteCommandContext</a> object that contains:</p>

<ol>
  <li>connectivity - CloudShell server connectivity data for authentication with CloudShell Automation API</li>
  <li>resource - resource configuration settings entered when creating the Cloud Provider resource in the <strong>Inventory</strong> dashboard</li>
  <li>remote_reservation – reservation details</li>
  <li>remote_endpoints - will contain a single <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py#L38-L64" target="_blank">ResourceContextDetails</a> object which provides data for the operation.</li>
</ol>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    cloudshell/shell/core/driver_context.py <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/cloudshell-shell-core/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def __init__(self, connectivity, resource, remote_reservation, remote_endpoints):
    self.connectivity = connectivity  # Connectivity details that can help connect to the APIs
    &quot;&quot;&quot;:type : ConnectivityContext&quot;&quot;&quot;
    self.resource = resource  # The details of the resource using the driver
    &quot;&quot;&quot;:type : ResourceContextDetails&quot;&quot;&quot;
    self.remote_reservation = remote_reservation  # The details of the remote reservation
    &quot;&quot;&quot;:type : ReservationContextDetails&quot;&quot;&quot;
    self.remote_endpoints = remote_endpoints
    &quot;&quot;&quot;:type : list[ResourceContextDetails]&quot;&quot;&quot;</code></pre></figure>

<p><strong>Ports</strong></p>

<p>Legacy argument. Obsolete for custom cloud providers.</p>

<p><strong>Cancellation context</strong></p>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    cloudshell/shell/core/driver_context.py <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/cloudshell-shell-core/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def __init__(self):
    self.is_cancelled = False
    &quot;&quot;&quot;:type : bool&quot;&quot;&quot;</code></pre></figure>

<h3 id="return-value-1">Return value</h3>

<p>None.</p>

<p>Unlike other methods that update data using the result, <em>remote_refresh_ip</em> updates the deployed App resource with the IP by calling <em>cloudshell-automation-api</em>. However, if you implemented a return output, make sure to convert the <em>remote_refresh_ip</em> object to a string and pass the value to the “IP” attribute on the deployed App.</p>

<h3 id="error-handling-2">Error handling</h3>

<p>If the operation fails, the command should raise an exception.</p>

<h3 id="remote_refresh_ip-method-implementation">remote_refresh_ip method implementation</h3>

<p>This method should perform the following steps:</p>

<ol>
  <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/ede6f78b4d4a78ae61b628696f6903d684e2224b/src/driver.py#L200" target="_blank">Retrieve the Cloud Provider resource’s connection credentials</a>.</li>
  <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/ede6f78b4d4a78ae61b628696f6903d684e2224b/src/driver.py#L201" target="_blank">Convert the <em>deployed_app_json</em> context from string to object</a>.</li>
  <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/ede6f78b4d4a78ae61b628696f6903d684e2224b/src/driver.py#L202-L212" target="_blank">Retrieve previously known private/public IPs (if there are any), VM instance id</a>.</li>
  <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/ede6f78b4d4a78ae61b628696f6903d684e2224b/src/heavenly_cloud_service_wrapper.py#L294" target="_blank">Verify that the deployed App’s private IP is the same as the ip in the cloud provider</a>. If it’s different, update the deployed App ip with the IP on the cloud provider.
    <ul>
      <li>If the IPs are different, <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/ede6f78b4d4a78ae61b628696f6903d684e2224b/src/heavenly_cloud_service_wrapper.py#L294-L295" target="_blank">update the deployed App IP with the IP on the cloud provider by calling <em>UpdateResourceAddress</em></a>.</li>
      <li>If the operation fails, display an error to the sandbox end-user.</li>
    </ul>
  </li>
  <li>If needed, verify that the deployed App’s public IP is the same as the ip in the cloud provider.
    <ul>
      <li>If the IPs are different, <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/ede6f78b4d4a78ae61b628696f6903d684e2224b/src/heavenly_cloud_service_wrapper.py#L297-L298" target="_blank">update the deployed App ip with the ip on the cloud provider by calling <em>SetAttributeValue</em> and setting the <em>Public IP</em> attribute</a>.</li>
      <li>If the operation fails, display an error to the sandbox end-user.</li>
    </ul>
  </li>
</ol>

<p><a name="GetVmDetails"></a></p>

<h2 id="getvmdetails-method">GetVmDetails method</h2>

<p>The <em>GetVmDetails</em> method gets information about the App’s VM, operating system, specifications and networking information. It is called by the default setup script when reserving the sandbox, after the <em>RefreshIp</em> method is called, and can also be run manually by the sandbox end-user on deployed Apps from the App’s <strong>VM Details</strong> pane.</p>

<p><strong>Note:</strong> The implementation is expected to query the cloud provider for the details, but not return any cached or stored data.</p>

<h3 id="signature-3">Signature</h3>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def GetVmDetails(self, context, requests, cancellation_context):</code></pre></figure>

<h3 id="inputs-3">Inputs</h3>

<p><strong>context</strong>: <em>context</em> is a <em>ResourceCommandContext</em> object that contains:</p>

<ol>
  <li>connectivity - CloudShell server connectivity data for authentication with CloudShell Automation API</li>
  <li>resource - resource configuration settings entered when creating the Cloud Provider resource in the <strong>Inventory</strong> dashboard</li>
  <li>reservation – reservation details</li>
  <li>connectors – details of any visual connectors between the Cloud Provider App and other endppoints in the sandbox</li>
</ol>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    cloudshell/shell/core/driver_context.py <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/cloudshell-shell-core/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">class ResourceCommandContext:
    def __init__(self, connectivity, resource, reservation, connectors):
        self.connectivity = connectivity  # Connectivity details that can help connect to the APIs
        &quot;&quot;&quot;:type : ConnectivityContext&quot;&quot;&quot;
        self.resource = resource  # The details of the resource using the driver
        &quot;&quot;&quot;:type : ResourceContextDetails&quot;&quot;&quot;
        self.reservation = reservation  # The details of the reservation
        &quot;&quot;&quot;:type : ReservationContextDetails&quot;&quot;&quot;
        self.connectors = connectors  # The list of visual connectors and routes that are connected to the resource (the resource will be considered as the source end point)
        &quot;&quot;&quot;:type : list[Connector]&quot;&quot;&quot;</code></pre></figure>

<p><strong>Requests</strong></p>

<p>JSON string that contains a list of items containing App requests and deployed App data. This method can be called for a set of VMs.</p>

<p><strong>Cancellation request</strong></p>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    cloudshell/shell/core/driver_context.py <a href="https://github.com/QualiSystems/cloudshell-shell-core/blob/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/cloudshell-shell-core/36009fdec45134ae38cb9273328b7686be66e553/cloudshell/shell/core/driver_context.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def __init__(self):
    self.is_cancelled = False
    &quot;&quot;&quot;:type : bool&quot;&quot;&quot;</code></pre></figure>

<h3 id="return-value-2">Return value</h3>

<p><em>VmDetailsData</em> object in a serialized JSON.</p>

<div class="github-sample-reference">
  <div class="author-info">
    <a href="https://github.com/QualiSystems/cloudshell-cp-core/blob/d58c094d9600b5a6232da16dada1d3a408a88ac9/package/cloudshell/cp/core/models.py">This Github Sample</a> is by <a href="https://github.com/QualiSystems">QualiSystems</a>
  </div>
  <div class="meta-info">
    package/cloudshell/cp/core/models.py <a href="https://github.com/QualiSystems/cloudshell-cp-core/blob/d58c094d9600b5a6232da16dada1d3a408a88ac9/package/cloudshell/cp/core/models.py">view</a> <a href="https://raw.githubusercontent.com/QualiSystems/cloudshell-cp-core/d58c094d9600b5a6232da16dada1d3a408a88ac9/package/cloudshell/cp/core/models.py">raw</a>
  </div>
</div>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def __init__(self, vmInstanceData=None, vmNetworkData=None,appName = &#39;&#39;,errorMessage = &#39;&#39;):
    &quot;&quot;&quot;
    :param vmInstanceData: [VmDetailsProperty]
    :param vmNetworkData:  [VmDetailsNetworkInterface]
    :param appName:        str
    :param errorMessage:   str
    &quot;&quot;&quot;

    self.vmInstanceData = vmInstanceData if vmInstanceData else []  # type: [VmDetailsProperty]
    self.vmNetworkData = vmNetworkData if vmNetworkData else []  # type: [VmDetailsNetworkInterface]
    self.appName = appName
    self.errorMessage = errorMessage</code></pre></figure>

<h4 id="vmdetailsdata-properties">vmDetailsData properties</h4>

<p><em>vmDetailsData</em> is used to describe the App’s VM. All properties are optional.</p>

<table>
  <tbody>
    <tr>
      <td><strong>Name</strong></td>
      <td><strong>Type</strong></td>
      <td><strong>Description</strong></td>
    </tr>
    <tr>
      <td>appName</td>
      <td>String</td>
      <td>The App’s name. No need to assign it in the deploy operation. Must be assigned in <em>getVmDetails</em> method.</td>
    </tr>
    <tr>
      <td>errorMessage</td>
      <td>string</td>
      <td>Indication message to be displayed to the sandbox end-user when getting the vmDetails.</td>
    </tr>
    <tr>
      <td>vmNetworkData</td>
      <td>array</td>
      <td>Array of cloudshell-cp-core  VmDetailsNetworkInterface object. Create a <em>vmNetworkData</em> object for each VM NIC you wish to associate with resource. See the VmDetailsNetworkInterface table below.</td>
    </tr>
    <tr>
      <td>vmInstanceData</td>
      <td>array</td>
      <td>Array of cloudshell-cp-core’s <em>VmDetailsProperty</em>. Contains data about the VM instance attributes. It should be used to change persist values of the VM resource. For example to persist Storage and operating system data. See the VmDetailsProperty table below.</td>
    </tr>
  </tbody>
</table>

<h4 id="vmdetailsnetworkinterface">VmDetailsNetworkInterface</h4>

<table>
  <tbody>
    <tr>
      <td><strong>Name</strong></td>
      <td><strong>Type</strong></td>
      <td><strong>Description</strong></td>
    </tr>
    <tr>
      <td>interfaceId</td>
      <td>String</td>
      <td>The network interface id with which the address is associated.</td>
    </tr>
    <tr>
      <td>networkId</td>
      <td>string</td>
      <td>The unique id of the network associated with the network interface.</td>
    </tr>
    <tr>
      <td>isPrimary</td>
      <td>bool</td>
      <td>Determines if NIC is primary. Primary affects the default selected network in VmDetailsTab in cloudshell</td>
    </tr>
    <tr>
      <td>isPredefined</td>
      <td>bool</td>
      <td>Determines if NIC is predefined. Predefined means that the network existed before the sandbox reservation. for example, a Static Management network that is not modeled in the blueprint.</td>
    </tr>
    <tr>
      <td>networkData</td>
      <td>array</td>
      <td>Array of cloudshell-cp-core VmDetailsProperty. Contains data describing the NIC. Examples of network properties include Device Index and MAC Address.</td>
    </tr>
    <tr>
      <td>privateIpAddress</td>
      <td>string</td>
      <td>NIC address.</td>
    </tr>
    <tr>
      <td>publicIpAddress</td>
      <td>string</td>
      <td>The public ip associated with the NIC’s private ip.</td>
    </tr>
  </tbody>
</table>

<h4 id="vmdetailsproperty">VmDetailsProperty</h4>

<table>
  <tbody>
    <tr>
      <td><strong>Name</strong></td>
      <td><strong>Type</strong></td>
      <td><strong>Description</strong></td>
    </tr>
    <tr>
      <td>key</td>
      <td>string</td>
      <td> </td>
    </tr>
    <tr>
      <td>value</td>
      <td>string</td>
      <td> </td>
    </tr>
    <tr>
      <td>hidden</td>
      <td>bool</td>
      <td>Determines if the property is displayed to the sandbox end-user.</td>
    </tr>
  </tbody>
</table>

<h3 id="getvmdetails-method-implementation">GetVmDetails method implementation</h3>

<p>This method should perform the following steps:</p>

<ol>
  <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/ede6f78b4d4a78ae61b628696f6903d684e2224b/src/driver.py#L177" target="_blank">Retrieve cloud provider resource connection credentials</a>.</li>
  <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/ede6f78b4d4a78ae61b628696f6903d684e2224b/src/heavenly_cloud_service_wrapper.py#L228" target="_blank">Convert the JSON string to object</a></li>
  <li>For each request, do the following:
    <ul>
      <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/d17640899a06fb69e61ac678d620301d76dfd3cb/src/heavenly_cloud_service_wrapper.py#L237-L239" target="_blank">Retrieve identifiers</a>.</li>
      <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/d17640899a06fb69e61ac678d620301d76dfd3cb/src/heavenly_cloud_service_wrapper.py#L241" target="_blank">Query the cloud provider for the VM’s configuration and networks</a>.</li>
      <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/d17640899a06fb69e61ac678d620301d76dfd3cb/src/heavenly_cloud_service_wrapper.py#L242" target="_blank">Populate <em>vmInstanceData</em> with the data (key-value) you wish to persist on the VM resource</a>. For example to persist the VM’s Storage &amp; operating system data.</li>
      <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/d17640899a06fb69e61ac678d620301d76dfd3cb/src/heavenly_cloud_service_wrapper.py#L243" target="_blank">Create <em>vmNetworkData</em></a>. <a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/d17640899a06fb69e61ac678d620301d76dfd3cb/src/heavenly_cloud_service_wrapper.py#L194-L215" target="_blank"><em>vmNetworkData</em></a> is a list of <em>VmDetailsNetworkInterface</em>, one for each VM NIC you wish to associate with the resource.</li>
      <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/d17640899a06fb69e61ac678d620301d76dfd3cb/src/heavenly_cloud_service_wrapper.py#L251-L252" target="_blank">Collect as <em>VmDetailsData</em> result</a>.</li>
    </ul>
  </li>
  <li><a href="https://github.com/QualiSystems/Custom-L2-Cloud-Provider-Shell-Example/blob/ede6f78b4d4a78ae61b628696f6903d684e2224b/src/driver.py#L178-L180" target="_blank">Convert to JSON and return the result</a>.</li>
</ol>









    <div id="post-nav" class="clearfix">
        
            <a class="prev" href="/cloudproviders/2020.1.0/resource-discovery.html">&laquo; Resource Discovery</a>
        
        
            <a class="next" href="/cloudproviders/2020.1.0/power-off-and-delete.html">Power off and Delete VM &raquo;</a>
        
    </div>




<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        var disqus_identifier = '_cloudproviders/2020.1.0/app-deployment.md';
        var disqus_url = 'https://devguide.quali.com/cloudproviders/2020.1.0/app-deployment.html';
        this.page.url = "https://devguide.quali.com/cloudproviders/2020.1.0/app-deployment.html";  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = disqus_identifier; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//qualidev.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>






<ul >
    
</ul>


<script src="/js/search.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">
  $(function() {
    $('#search-query').lunrSearch({
      indexUrl  : '/js/index.json',           // url for the .json file containing search index data
      results   : '#search-results',          // selector for containing search results element
      template  : '#search-results-template', // selector for Mustache.js template
      titleMsg  : '',   // message attached in front of results (can be empty)
      emptyMsg  : '<p>Nothing found.</p>'     // shown message if search returns no results
    });
  });
</script>

<script>
$(function() {
    page = $(".page-header").attr("data-page-id")
    nav_item = $(".nav li[data-page-id='"+page+"']")
    if (nav_item) {
        $(".nav").find(".active").removeClass("active");
        nav_item.addClass("active");
    }
})
</script>

                    </div>
                
            </div>

            

            <div class="row">
                <div id="footer" class="col-sm-12">
                    
<div class="qs-control-container scroll-enable">
	<a href="https://github.com/QualiSystems/devguide_source/issues/new?title=New%20suggestion%20for%20/cloudproviders/2020.1.0/app-deployment.html" target="_blank" class="qs-btn-round qs-btn-mail" title="Send feedback">
	</a>

	<button class="qs-btn-round qs-btn-scroll-top tooltip tooltipstered">
	</button>
</div>


Documentation for <a href="http://www.quali.com">CloudShell Developer Guide</a>

                </div>
            </div>
        </div>

        <script src="/js/prism.js"></script>
        
        <script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-81468206-1', 'auto');
 ga('send', 'pageview');

</script>

        
    </body>

</html>
